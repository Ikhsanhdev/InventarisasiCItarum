"use strict";const whiteBasemap=L.tileLayer("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/w8AAwAB/3cwcakAAAAASUVORK5CYII=");var layerpeta=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"});const map=L.map("map",{center:[-7.085,107.677],zoom:12,maxZoom:50,minZoom:10,layers:[layerpeta],attributionControl:!0});var circleBgWhite={color:"black",fillColor:"white",fillOpacity:1,weight:1,opacity:40},bangunanPembagiList=[],bangunanSadapList=[],boxPetakList=[],box=[],Skema=function(){return{init:function(){getData("/Home/GetPointSumur").then(t=>{let e=t.data;200==t.status&&e.forEach(function(t){var e=[t.latitude,t.longitude];generateSumur(t.code,"topright",e,0);var a='<img src="/images/well.svg" style="width: 25px;  filter: invert(30%) sepia(100%) saturate(1000%) hue-rotate(-50deg) drop-shadow(1px 1px 0px #000000); height: 25px;background-color: transparent;border-color:#fff;" />';"OPERASI"==t.status&&(a='<img src="/images/well.svg" style="width: 25px;  filter: invert(50%) sepia(80%) saturate(500%) hue-rotate(80deg) drop-shadow(1px 1px 0px #000000); height: 25px;background-color: transparent;border-color:#fff;" />'),L.marker(e,{icon:L.divIcon({className:"panah-aliran",html:a})}).addTo(map).bindPopup(function(t){var e='<small class="mdi mdi-circle text-danger"></small> TIDAK OPERASI';"OPERASI"==t.status&&(e='<small class="mdi mdi-circle text-success"></small> OPERASI');var a='<table class="table mb-2 font-12"><tbody>';return a+="<tr>",a+=`<td class="px-0 py-2" colspan="3">\n          <div class="d-flex align-items-start">\n              <img class="me-2 rounded-3" src="/images/favicon.png" width="45" height="45" alt="${t.code}">\n              <div class="w-100">\n                  <h5 class="mt-0 mb-1 fw-semibold font-12">${t.code}</h5>\n                  ${e}\n              </div>\n          </div>\n      </td>`,a+="</tr>",a+="<tr>",a+='<td class="py-1 px-0">Kedalaman Bor</td>',a+='<td class="py-1 px-2">:</td>',a+=`<td class="py-1 px-0">${t.kedalaman_bor?t.kedalaman_bor:"-"} m</td>`,a+="</tr>",a+="<tr>",a+='<td class="py-1 px-0">Debit</td>',a+='<td class="py-1 px-2">:</td>',a+=`<td class="py-1 px-0">${t.debit_sumur?t.debit_sumur:"-"} lt/dt</td>`,a+="</tr>",a+="<tr>",a+='<td class="py-1 px-0">Tahun Pengeboran</td>',a+='<td class="py-1 px-2">:</td>',a+=`<td class="py-1 px-0">${t.tahun_pengeboran?t.tahun_pengeboran:"-"}</td>`,a+="</tr>",a+="</tbody></table>",a+=`<div class="text-end"><a href="/Home/Detail?code=${t.code}" target="_blank">Lihat Detail <i class="mdi mdi-arrow-right"></i></a></div>`}(t))})}).catch(t=>{let e=t.response.data;e.success||console.log(e.message)})}}}();function updateOffsetBangunanPembagi(t,e){var a=[0,0];a=10===e?[-15,0]:11===e?[-25,0]:12===e?[-45,0]:13===e?[-75,0]:[-55,0];const n=t.getTooltip(),o=n.getContent(),i=n.options.direction||"auto";"top"==i&&(a=[0,-10]),t.unbindTooltip(),t.bindTooltip(o,{permanent:!0,direction:i,className:"transparent-tooltip",offset:a}).openTooltip()}function setResponsiveSkema(){const t=map.getZoom();var e=t+10;document.querySelectorAll(".bs-title").forEach(t=>{t.style.fontSize=`${e}px`}),bangunanPembagiList.forEach(e=>{updateOffsetBangunanPembagi(e,t)})}function generateLineCustom(t){L.polyline(t,{color:"black",weight:1}).addTo(map)}function generateSumur(t,e,a,n){L.circleMarker(a,{color:"black",weight:1,opacity:0}).addTo(map);const o=`<div class="bangunan-sadap-title" style="transform: rotate(${n}deg);white-space: nowrap;">${t}</div>`;var i=L.circle(a,20,circleBgWhite).addTo(map),s=[0,0],r="center";"topcenter"==e?(r="top",s=[0,-10]):"topleft"==e?(r="top",s=[-10,-10]):"topright"==e?(r="top",s=[10,-10]):"bottomcenter"==e?(r="bottom",s=[0,10]):"bottomright"==e?(r="bottom",s=[8,10]):"bottomleft"==e?(r="bottom",s=[-8,10]):"centerright"==e?(r="right",s=[10,0]):"centerleft"==e&&(r="left",s=[-10,0]),i.bindTooltip(o,{permanent:!0,direction:r,className:"transparent-tooltip",offset:s}).openTooltip(),bangunanSadapList.push(i)}jQuery(document).ready(function(){Skema.init()}),map.on("zoomend",setResponsiveSkema),setResponsiveSkema();const inputField=document.getElementById("filter-date"),prevButton=document.getElementById("btn-prev"),nextButton=document.getElementById("btn-next");function disableElements(){prevButton.disabled=!0,nextButton.disabled=!0,inputField.disabled=!0,inputField.classList.add("disabled")}function enableElements(){prevButton.disabled=!1,nextButton.disabled=!1,inputField.disabled=!1,inputField.classList.remove("disabled")}function formatNumber(t){let e=parseFloat(t.toFixed(2)).toString();return e.endsWith(".00")&&(e=e.slice(0,-3)),e}