"use strict";console.log("test");const whiteBasemap=L.tileLayer("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/w8AAwAB/3cwcakAAAAASUVORK5CYII="),map=L.map("map",{center:[-8.7,110.4],zoom:10,maxZoom:13,minZoom:5,layers:[whiteBasemap]});var circleBgTransparent={color:"black",fillColor:"transparent",fillOpacity:0,weight:1},circleBgWhite={color:"black",fillColor:"white",fillOpacity:1,weight:1},circleBgBlack={color:"black",fillColor:"black",fillOpacity:1,weight:1},bangunanPembagiList=[],bangunanSadapList=[],boxPetakList=[],SkemaSidareja={init:function(){!function(){const e=document.getElementById("filter-date"),a=$("#filter-date").flatpickr({locale:"id",defaultDate:new Date,altInput:!0,altFormat:"j F Y",dateFormat:"Y-m-d"});function t(e,a){const t=new Date(e);return t.setDate(t.getDate()+a),t}$("#btn-prev").on("click",function(){const n=t(a.selectedDates[0]||new Date,-1);a.setDate(n),e.dispatchEvent(new Event("change"))}),$("#btn-next").on("click",function(){const n=t(a.selectedDates[0]||new Date,1);a.setDate(n),e.dispatchEvent(new Event("change"))}),$("#filter-date").on("change",function(){getSchemaData($(this).val())})}(),function(){map.attributionControl.setPrefix(!1),map.attributionControl.addAttribution("DI. Manganti Versi: R4 (Update 16 Juli 2024)");var e=L.control({position:"topright"});e.onAdd=function(e){var a=L.DomUtil.create("div","legend");return a.innerHTML='\n            <div>\n              <table id="table-legenda" style="width: 100%; border-collapse: collapse;">\n                <thead>\n                  <tr>\n                    <th colspan="2">KETERANGAN :</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td class="text-center"><img src="/images/icon-bangunan-sadap.png" style="height: 20px; margin-right: 5px;"></td>\n                    <td>Bangunan Pengambil/Sadap</td>\n                  </tr>\n                  <tr>\n                    <td class="text-center"><img src="/images/icon-bangunan-pembagi.png" style="height: 20px; margin-right: 5px;"></td>\n                    <td>Bangunan Pembagi</td>\n                  </tr>\n                  <tr>\n                    <td class="text-center"><span style="vertical-align: middle;border: 2px solid rgba(26,188,156);display: inline-block;width: 1rem;height: 1rem;border-radius: 2px; margin-right: 5px;"></span></td>\n                    <td><span style="vertical-align: middle;">Golongan A</span></td>\n                  </tr>\n                  <tr>\n                    <td class="text-center"><span style="vertical-align: middle;border: 2px solid #027DFC;display: inline-block;width: 1rem;height: 1rem;border-radius: 2px; margin-right: 5px;"></span></td>\n                    <td><span style="vertical-align: middle;">Golongan B</span></td>\n                  </tr>\n                  <tr>\n                    <td class="text-center"><span style="vertical-align: middle;border: 2px solid #F509F2;display: inline-block;width: 1rem;height: 1rem;border-radius: 2px; margin-right: 5px;"></span></td>\n                    <td><span style="vertical-align: middle;">Golongan C</span></td>\n                  </tr>\n                  <tr>\n                    <td class="text-center fw-bold">A</td>\n                    <td>Luas Petak</td>\n                  </tr>\n                  <tr>\n                    <td class="text-center fw-bold">QK</td>\n                    <td>Debit Kebutuhan</td>\n                  </tr>\n                  <tr>\n                    <td class="text-center text-primary fw-bold">QA</td>\n                    <td>Debit Aktual</td>\n                  </tr>\n                  <tr>\n                    <td class="text-center text-warning fw-bold">QR</td>\n                    <td>Debit Rekomendasi\n                    (Hasil Model AI)</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          ',a},e.addTo(map)}(),initBs10(),function(){const e=[-9.35,108.72],a=[e[0],108.85],t=[e[0],109.08];generateBoxPetak("2035c600-85a6-4e95-9e7c-576b4060435e","B.Sh 1-Ki",[a,[-9.29,a[1]]],"top","golongan-b"),generateBoxPetak("5716d697-3b8f-411e-a22b-b6e1822215e1","B.Sh 1-Ka",[a,[-9.41,a[1]]],"bottom","golongan-b"),generateBoxPetak("85866435-e4b6-4850-a895-4c9838e7d88d","B.Sh 2",[a,[-9.35,109.1]],"right","golongan-b"),generateBangunanSadap("BSh. 1","bottomright",[e,a],90),generateBangunanSadap("BSh. 2","bottomright",[e,t],90),generateBangunanPembagiDanSadap("BS.IX",[[-9,108.72],e]),generateTextSaluranSekunder("SS. SIDAHURIP",[-9.3,109.1],0)}(),function(){const e=[-9,108.72],a=[e[0],108.85],t=[e[0],109.08];generateBoxPetak("0739446b-88d9-457e-a08c-03c11c926689","B.Sd 1-Ki",[a,[-8.94,a[1]]],"top","golongan-b"),generateBoxPetak("200845cd-a500-4c12-9590-ba9c05e03b63","B.Sd 1-Ka",[a,[-9.05,a[1]]],"bottom","golongan-b"),generateBoxPetak("0b8e2745-fb8f-40a3-956b-fb7109707cd2","B.Sd 2",[a,[-9,109.1]],"right","golongan-b"),generateBangunanSadap("BSd. 1","bottomright",[e,a],90),generateBangunanSadap("BSd. 2","bottomright",[e,t],90),generateBangunanPembagi("BS.VIII",[[-8.75,108.72],e]),generateTextSaluranSekunder("SS. SIDODADI",[-8.95,109.1],0)}(),function(){const e=[-8.75,108.72];generateBoxPetak("ece08111-0685-4435-8963-4860a4d0c356","Pt.Sm-4",[e,[e[0],108.81]],"right","golongan-b"),generateBangunanPembagiDanSadap("BS.VII",[[-8.38,108.72],e])}(),function(){const e=[-8.38,108.72],a=[e[0],108.85],t=[e[0],109.08],n=[e[0],109.21],o=[e[0],109.4],r=[e[0],109.59],g=[e[0],109.78],d=[e[0],109.88],i=[e[0],110.12],c=[e[0],110.36],l=[e[0],110.66],b=[e[0]-.215,109.14],s=[b[0]-.17,b[1]+.2],p=[s[0]-.15,s[1]+.17],B=d,m=[d[0]-.2,d[1]],f=[d[0]-.32,d[1]],u=[d[0]-.46,d[1]],k=[d[0]-.6,d[1]],P=[d[0]-.74,d[1]],h=[c[0]-.2,c[1]],S=[c[0]-.32,c[1]],x=[c[0]-.42,c[1]],K=[l[0],l[1]+.14],T=[l[0],l[1]+.34],A=[l[0]-.2,l[1]],C=[l[0]-.32,l[1]],v=[l[0]-.46,l[1]],D=[l[0]-.56,l[1]],L=[l[0]-.72,l[1]],y=[l[0]-.84,l[1]],w=[l[0]-.96,l[1]],I=[l[0]-.96,l[1]],$=[l[0]-1.08,l[1]];generateBoxPetak("abf3088b-38b8-47a7-957e-b8a8c176d9d7","Pt. CK. 18-Kn",[$,[$[0],$[1]-.06]],"left","golongan-b"),generateBangunanSadap("BCk. Kn18","centerright",[l,$],0),generateBoxPetak("c8e17113-3795-4562-bf19-e9365ed22acc","Pt. CK. 17-Kr",[I,[I[0],I[1]+.06]],"right","golongan-b"),generateBoxPetak("288c23b6-bf60-4319-9d61-298b65b26521","Pt. CK. 17-Kn",[w,[w[0],w[1]-.06]],"left","golongan-b"),generateBangunanSadap("BCk. Kn17","topright",[l,w],0),generateBoxPetak("7c88b4e5-99af-4703-b223-10f5032e65a1","Pt. CK. 16-Kn",[y,[y[0],y[1]-.06]],"left","golongan-b"),generateBangunanSadap("BCk. Kn16","centerright",[l,y],0),generateBoxPetak("64f09dad-3f32-4439-90fb-09f3e3c2cef3","Pt. CK. 15-Kn",[L,[L[0],L[1]-.06]],"left","golongan-b"),generateBoxPetak("6738f990-c821-4f1b-9a1d-a8b7dbcbf00f","Pt. CK. 15-Kr",[L,[L[0],L[1]+.1]],"right","golongan-b"),generateBangunanSadap("BCk. Kn15","topright",[l,L],0),generateBoxPetak("5fb2294d-1f39-4cd7-8a46-9272f5cb70cb","Pt. CK. 14-Kr",[D,[D[0],D[1]+.1]],"right","golongan-b"),generateBangunanSadap("BCk. Kn14","centerleft",[l,D],0),generateBoxPetak("2720ee3e-519b-47cc-8559-3c50dd860f90","Pt. CK. 13-Kn",[v,[v[0],v[1]-.04]],"left","golongan-b"),generateBangunanSadap("BCk. Kn13","centerright",[l,v],0),generateBoxPetak("dddcf36e-809a-4ef0-b1af-1a463f8cb2ac","Pt. CK. 12-Kr",[C,[C[0],C[1]+.1]],"right","golongan-b"),generateBangunanSadap("BCk. Kn12","centerleft",[l,C],0),generateBoxPetak("3d6328fe-45c3-4d59-ad14-90adf6c2cc6d","Pt. CK. 11-Kr",[A,[A[0],A[1]+.1]],"right","golongan-b"),generateBangunanSadap("BCk. Kn1","centerleft",[l,A],0),generateBoxPetak("88aff689-aabc-4a7d-8f6b-d691cafa4b73","Pt. CK.Ki 2-Kn",[T,[T[0]-.04,T[1]]],"bottom","golongan-b"),generateBangunanSadap("BCkKi. 2","topcenter",[l,T],90),generateBoxPetak("bfe0a3e4-a1ad-4241-a5cf-746098673441","Pt. CK.Ki 1-Kn",[K,[K[0]-.04,K[1]]],"bottom","golongan-b"),generateBangunanSadap("BCkKi. 1","topcenter",[l,K],90),generateBangunanSadapDanPembagi("BCk. 10","topcenter",[e,l],90),generateBoxPetak("4822f056-c75e-4822-9120-b434b3d98bca","Pt. Dt. 3",[x,[x[0]-.04,x[1]]],"bottom","golongan-b"),generateBangunanSadap("BDt. 3","centerleft",[c,x],0),generateBoxPetak("08ea3e28-fadc-46bb-85ca-0e361dd9bf38","Pt. Dt. 2-Kn",[S,[S[0],S[1]-.06]],"left","golongan-b"),generateBangunanSadap("BDt. 2","topleft",[c,S],0),generateBoxPetak("f979e41e-c313-4f25-826e-d54ace194e74","Pt. Dt. 1-Kr",[h,[h[0],h[1]+.06]],"right","golongan-b"),generateBoxPetak("6ad63e56-5180-41c6-b81c-e1482e83c836","Pt. Dt. 1-Kn",[h,[h[0],h[1]-.06]],"left","golongan-b"),generateBangunanSadap("BDt. 1","topleft",[c,h],0),generateBangunanSadapDanPembagi("BCk. 9","topcenter",[e,c],90),generateBoxPetak("0f715ffe-696b-4c85-8ef2-6017048ad341","Pt. Ck. 8-Kn",[i,[-8.42,i[1]]],"bottom","golongan-b"),generateBangunanSadap("BCk. 8","topcenter",[e,i],90),generateBoxPetak("f199f0d7-6f13-46bf-85f8-8d1f83d4fb65","Pt. Tr. 6 cik",[P,[P[0]-.06,P[1]]],"bottom","golongan-b"),generateBoxPetak("564531c7-761f-479f-b94d-d9e85affee3a","Pt. Tr. 6-Kr",[P,[P[0],P[1]+.06]],"right","golongan-b"),generateBangunanSadap("BTr. 6","topright",[d,P],0),generateBoxPetak("7595e215-b0bd-491b-9ce6-945cac35931c","Pt. Tr. 5-Kr",[k,[k[0],k[1]+.06]],"right","golongan-b"),generateBangunanSadap("BTr. 5","topright",[d,k],0),generateBoxPetak("5c41e1ea-9dfb-4727-ba3f-fc35b27226a1","Pt. Tr. 4-Kr",[u,[u[0],u[1]+.06]],"right","golongan-b"),generateBangunanSadap("BTr. 4","topright",[d,u],0),generateBoxPetak("f96a51b0-6fcc-4ca4-af2e-2de41b41bd75","Pt. Tr. 3-Kn",[f,[f[0],f[1]-.06]],"left","golongan-b"),generateBangunanSadap("BTr. 3","centerright",[d,f],0),generateBoxPetak("678b079a-46d7-4cdb-92b2-2df8d5a5a0e2","Pt. Tr. 2-Kn",[m,[m[0],m[1]-.06]],"left","golongan-b"),generateBangunanSadap("BTr. 2","centerright",[d,m],0),generateBoxPetak("dec728c0-64f2-4516-bbd4-79c023c331f3","Pt. Tr. 1-Kn",[B,[B[0]-.15,B[1]+.15]],"bottom","golongan-b"),generateBangunanSadapDanPembagi("BTr. 1","bottomright",[B,d],90),generateBangunanSadapDanPembagi("BCk. 7","topcenter",[e,d],90),generateBoxPetak("60eb2f2f-512a-4715-a75a-fd81596062f0","Pt. Ck. 6-Kn",[g,[-8.42,g[1]]],"bottom","golongan-b"),generateBangunanSadap("BCk. 6","topcenter",[e,g],90),generateBoxPetak("cb1a52bb-e373-4e06-b8ef-3a8571ef1163","Pt. Ck. 5-Kn",[r,[-8.42,r[1]]],"bottom","golongan-b"),generateBangunanSadap("BCk. 5","topcenter",[e,r],90),generateBoxPetak("8257c58d-23e4-4e69-96a8-5e752edee4a8","Pt. Ck. 4-Kn",[o,[-8.45,o[1]]],"bottom","golongan-b"),generateBangunanSadap("BCk. 4","topcenter",[e,o],90),generateBoxPetak("a32dd81f-4736-4393-94cb-ddd69f14ac4d","Pt. Ck. 3-Kn",[n,[-8.42,n[1]]],"bottom","golongan-b"),generateBangunanSadap("BCk. 3","topcenter",[e,n],90),generateBoxPetak("e4bc311d-72a5-4f05-b2c6-7a1924b0b971","Pt. Ld. 3",[p,[p[0]-.015,p[1]+.018]],"bottom","golongan-b"),generateBangunanSadap("BLd. 3","topright",[s,p],330),generateBoxPetak("91abd34b-19d6-4851-b59d-7cf73f363a21","Pt. Ld. 2-Ki",[s,[s[0]+.02,s[1]+.06]],"right","golongan-b"),generateBoxPetak("7c91a5b8-d19e-4539-954d-5a909a76f276","Pt. Ld. 2-Kn",[s,[s[0]-.01,s[1]-.1]],"left","golongan-b"),generateBangunanSadap("BLd. 2","bottomleft",[b,s],330),generateBoxPetak("96721e56-a46a-41af-8492-2141bbd5785b","Pt. Ld. 1-Ki",[b,[b[0]+.01,b[1]+.08]],"right","golongan-b"),generateBoxPetak("8d4898ca-f935-4fa2-a579-e7128160dda4","Pt. Ld. 1-Kn",[b,[b[0]-.01,b[1]-.1]],"left","golongan-b"),generateBangunanSadap("BLd. 1","bottomleft",[t,[t[0]-.16,t[1]],b],330),generateBangunanSadapDanPembagi("BCk. 2","topcenter",[e,t],90),generateBoxPetak("c75657c4-1e68-4328-a18b-17a395d1e8e9","Pt. Ck. 1-Ki",[a,[-8.32,a[1]]],"top","golongan-b"),generateBoxPetak("adcf560e-d7bc-48e1-8334-e85fb741faad","Pt. Ck. 1-Kn",[a,[-8.42,a[1]]],"bottom","golongan-b"),generateBangunanSadap("BCk. 1","topright",[e,a],90),generateBangunanPembagi("BS. VI",[[-8.05,108.77],[-8.22,108.77],[-8.22,108.72],[-8.3,108.72],e])}(),function(){const e=[-8.05,108.77],a=[e[0],108.87],t=[e[0],109.04],n=[e[0],109.22],o=[e[0],109.4],r=[e[0],109.58],g=[e[0],109.76],d=[e[0],109.88],i=[e[0],110.08];generateBoxPetak("19f7b89b-09ec-4538-a27d-f522792d6b54","Pt. Kd. 8-Ki",[i,[-8,i[1]]],"top","golongan-a"),generateBoxPetak("bf22c9b5-1310-45f2-8c55-b1c729660edf","Pt. Kd. 8-Kn",[i,[-8.1,i[1]]],"bottom","golongan-a"),generateBangunanSadap("BKd. 8","bottomright",[e,i],90),generateBoxPetak("bb284931-2b5a-48ad-87e5-75a048c42c48","Pt. Kd. 7-Kn",[d,[-8.1,d[1]]],"bottom","golongan-a"),generateBangunanSadap("BKd. 7","bottomright",[e,d],90),generateBoxPetak("37ae32d1-80ca-4197-8ac5-69b13653f261","Pt. Kd. 6-Ki",[g,[-8,g[1]]],"top","golongan-a"),generateBangunanSadap("BKd. 6","bottomcenter",[e,g],90),generateBoxPetak("87d948a4-46d7-4c2f-92b1-eae58b8e8d24","Pt. Kd. 5-Ki",[r,[-8,r[1]]],"top","golongan-a"),generateBangunanSadap("BKd. 5","bottomcenter",[e,r],90),generateBoxPetak("5b8b2241-d1df-42e1-9409-a444f42a329e","Pt. Kd. 4-Ki",[o,[-8,o[1]]],"top","golongan-a"),generateBangunanSadap("BKd. 4","bottomcenter",[e,o],90),generateBoxPetak("c4690341-532f-43a6-9dd0-9a9d90e4f996","Pt. Kd. 3-Ki",[n,[-8,n[1]]],"top","golongan-a"),generateBangunanSadap("BKd. 3","bottomcenter",[e,n],90),generateBoxPetak("d2ea57f2-ac28-4aea-9626-619e46804ea1","Pt. Kd. 2-Ki",[t,[-8,t[1]]],"top","golongan-a"),generateBoxPetak("2a91cbf6-acd3-40f0-9c14-00856b14aba6","Pt. Kd. 2-Kn",[t,[-8.1,t[1]]],"bottom","golongan-a"),generateBangunanSadap("BKd. 2","topleft",[e,t],90),generateBoxPetak("c5dc7b64-2019-4c6d-97c8-ccc4a54a130b","Pt. Kd. 1-Kn",[a,[-8.1,a[1]]],"bottom","golongan-a"),generateBangunanSadap("BKd. 1","topcenter",[e,a],90),generateBangunanPembagi("BS. V",[[-7.855,108.77],e]),generateTextSaluranSekunder("SS. KEDUNG DADAP",[-7.9,109.3],0)}(),function(){const e=[-7.86,108.77];generateBoxPetak("0d219996-918d-4549-9a4a-0a6820e9e40d","Pts. IV Ki",[e,[e[0],108.81]],"right","golongan-a"),generateBangunanPembagiDanSadap("BS. IV",[[-7.675,108.77],e])}(),function(){const e=[-7.675,108.77],a=[e[0],108.87],t=[e[0],109.038],n=[e[0],109.15],o=[e[0],109.33],r=[e[0],109.51];generateBoxPetak("9420e89d-7dac-4532-ae6c-2c780837e57b","Pts. Rm. 5-Ki",[r,[-7.65,r[1]]],"top","golongan-a"),generateBoxPetak("89c2cd98-caea-42d4-af0b-2ba7bd55c667","Pts. Rm. 5-Kn",[r,[-7.73,r[1]]],"bottom","golongan-a"),generateBangunanSadap("BRm. 5","bottomright",[e,r],90),generateBoxPetak("af93bac3-682a-4c93-a997-91979f0ae3a0","Pts. Rm. 4-Ki",[o,[-7.65,o[1]]],"top","golongan-a"),generateBangunanSadap("BRm. 4","bottomcenter",[e,o],90),generateBoxPetak("509a16fd-9b7c-475f-89a0-24386d38709f","Pts. Rm. 3-Ki",[n,[-7.65,n[1]]],"top","golongan-a"),generateBangunanSadap("BRm. 3","bottomcenter",[e,n],90),generateBoxPetak("7cfa3b50-14b2-4724-a582-fddfb27ed8bc","Pts. Rm. 2-Kn",[t,[-7.72,t[1]]],"bottom","golongan-a"),generateBangunanSadap("BRm. 2","bottomright",[e,t],90),generateBoxPetak("8c2c67ac-756f-4de2-b3c2-f0b9e21cd6e5","Pts. Rm. 1-Ki",[a,[-7.65,a[1]]],"top","golongan-a"),generateBoxPetak("1518f3d6-5f9e-4ae7-b734-8ece837bcdc1","Pts. Rm. 1-Kn",[a,[-7.72,a[1]]],"bottom","golongan-a"),generateBangunanSadap("BRm. 1","bottomright",[e,a],90),generateBangunanPembagi("BS. III",[[-7.325,108.77],e]),generateTextSaluranSekunder("SS. REJA MULYA",[-7.57,109.2],0)}(),function(){const e=[-7.5,108.77],a=[-7.5,108.93],t=[-7.5,109.1];generateBoxPetak("a26be22c-f1e0-4400-af78-82b3b93cb1bf","Pt. Ks. 2-Ki",[t,[-7.475,t[1]]],"top","golongan-a"),generateBangunanSadap("BKs. 2","bottomcenter",[e,t],90),generateBoxPetak("3ca505a2-0038-45a7-aa38-e2f43205d84d","Pt. Ks. 1-Ki",[a,[-7.475,a[1]]],"top","golongan-a"),generateBangunanSadap("BKs. 1","bottomcenter",[e,a],90),generateBangunanPembagi("BS. II",[[-7.325,108.77],e]),generateTextSaluranSekunder("SS. KARANG SARI",[-7.4,108.92],0)}(),generateBoxPetak("fca11354-774f-4924-8dc6-c88bcd5f2de6","Pts. 1 Ki",[[-7.325,108.77],[-7.325,108.81]],"right","golongan-a"),generateBangunanPembagiDanSadap("BS. I",[[-7.235,108.77],[-7.325,108.77]]),L.marker([-7.15,108.8],{icon:L.divIcon({className:"panah-aliran",html:'<img src="/images/panah-aliran3.png" style="width: 59px; height: 15px;transform: rotate(130deg);background-color: transparent;border-color:#fff;" />'})}).addTo(map),L.polyline([[-7.1,108.8],[-7.235,108.77]],{color:"black",weight:1}).addTo(map),L.circle([-7.1,108.8],380,circleBgTransparent).addTo(map),L.circle([-7.1,108.8],830,circleBgTransparent).addTo(map).bindTooltip('<div class="text-sumber-aliran">BENDUNG MANGANTI</div>',{permanent:!0,direction:"right",className:"transparent-tooltip",offset:[10,1]}).openTooltip()}};function updateOffsetBangunanPembagi(e,a){var t=[0,0];t=10===a?[-15,0]:11===a?[-25,0]:12===a?[-45,0]:13===a?[-75,0]:[-55,0];const n=e.getTooltip().getContent();e.unbindTooltip(),e.bindTooltip(n,{permanent:!0,direction:"left",className:"transparent-tooltip",offset:t}).openTooltip()}function setResponsiveSkema(){const e=map.getZoom();var a=e+10;document.querySelectorAll(".bs-title").forEach(e=>{e.style.fontSize=`${a}px`}),bangunanPembagiList.forEach(a=>{updateOffsetBangunanPembagi(a,e)})}function generateBangunanPembagi(e,a){L.polyline(a,{color:"black",weight:1}).addTo(map);const t=`<div class="bs-title">${e}</div>`;var n=L.circle(a[a.length-1],1e3,circleBgWhite).addTo(map);L.circle(a[a.length-1],380,circleBgBlack).addTo(map),n.bindTooltip(t,{permanent:!0,direction:"left",className:"transparent-tooltip",offset:[-15,0]}).openTooltip(),bangunanPembagiList.push(n)}function generateBangunanPembagiDanSadap(e,a){L.polyline(a,{color:"black",weight:1}).addTo(map);const t=`<div class="bs-title">${e}</div>`;var n=L.circle(a[1],250,circleBgWhite).addTo(map);n.bindTooltip(t,{permanent:!0,direction:"left",className:"transparent-tooltip",offset:[-15,0]}).openTooltip(),bangunanPembagiList.push(n)}function generateBangunanSadap(e,a,t,n){L.polyline(t,{color:"black",weight:1}).addTo(map);const o=`<div class="bangunan-sadap-title" style="transform: rotate(${n}deg);white-space: nowrap;">${e}</div>`;var r=L.circle(t[t.length-1],250,circleBgWhite).addTo(map),g=[0,0],d="center";"topcenter"==a?(d="top",g=[0,-10]):"topleft"==a?(d="top",g=[-10,-10]):"topright"==a?(d="top",g=[10,-10]):"bottomcenter"==a?(d="bottom",g=[0,10]):"bottomright"==a?(d="bottom",g=[8,10]):"bottomleft"==a?(d="bottom",g=[-8,10]):"centerright"==a?(d="right",g=[10,0]):"centerleft"==a&&(d="left",g=[-10,0]),r.bindTooltip(o,{permanent:!0,direction:d,className:"transparent-tooltip",offset:g}).openTooltip(),bangunanSadapList.push(r)}function generateBangunanSadapDanPembagi(e,a,t,n){L.polyline(t,{color:"black",weight:1}).addTo(map);const o=`<div class="bangunan-sadap-title" style="transform: rotate(${n}deg);white-space: nowrap;">${e}</div>`;var r=L.circle(t[t.length-1],1e3,circleBgWhite).addTo(map);L.circle(t[t.length-1],380,circleBgBlack).addTo(map);var g=[0,0],d="center";"topcenter"==a?(d="top",g=[3,-15]):"topleft"==a?(d="top",g=[-10,-10]):"topright"==a?(d="top",g=[10,-10]):"bottomcenter"==a?(d="bottom",g=[0,10]):"bottomright"==a&&(d="bottom",g=[8,15]),r.bindTooltip(o,{permanent:!0,direction:d,className:"transparent-tooltip",offset:g}).openTooltip(),bangunanSadapList.push(r)}function generateBoxPetak(e,a,t,n,o){const r=L.polyline(t,{color:"black",weight:1}).addTo(map),g=`\n    <div class="box-petak ${o}" id="${e}-petak">\n        <table id="petak-${e}">\n          <thead>\n            <tr>\n                <th class="text-center" colspan="2">${a}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n                <td class="luas-petak">\n                  A= <strong>-</strong>\n                </td>\n                <td>\n                  <span class="debit-kebutuhan text-dark">QK= <strong>-</strong></span>\n                  </br>\n                  <span class="debit-aktual text-primary">QA= <strong>-</strong></span>\n                  </br>\n                  <span class="debit-rekomendasi text-warning">QR= <strong>-</strong></span>\n                </td>\n            </tr>\n          </tbody>\n        </table>\n    </div>\n  `,d=r.getLatLngs()[1];r.bindTooltip(g,{permanent:!0,direction:n,className:"transparent-tooltip",offset:[0,0]}).openTooltip(d),boxPetakList.push(r)}function generateTextSaluranSekunder(e,a,t){L.marker(a,{icon:L.divIcon({className:"text-saluran-sekunder",iconSize:[100,40],html:`<div style="transform: rotate(${t}deg);">${e}</div>`})}).addTo(map)}jQuery(document).ready(function(){SkemaSidareja.init(),getSchemaData(getValueById("filter-date"))}),map.on("zoomend",setResponsiveSkema),setResponsiveSkema();const inputField=document.getElementById("filter-date"),prevButton=document.getElementById("btn-prev"),nextButton=document.getElementById("btn-next");function disableElements(){prevButton.disabled=!0,nextButton.disabled=!0,inputField.disabled=!0,inputField.classList.add("disabled")}function enableElements(){prevButton.disabled=!1,nextButton.disabled=!1,inputField.disabled=!1,inputField.classList.remove("disabled")}function getSchemaData(e){disableElements(),getData(`/Schema/GetSchemaDataByDate/${e}`).then(e=>{let a=e.data;200==a.metaData.code&&($.each(a.response,function(e,a){var t="A= <strong>-</strong>",n="QK= <strong>-</strong>",o="QA= <strong>-</strong>",r="QR= <strong>-</strong>";null!=a.luas&&(t=`A= ${formatNumber(a.luas)} Ha`),null!=a.debit_kebutuhan&&(n=`QK= ${formatNumber(a.debit_kebutuhan)} lt/dt`),null!=a.debit_aktual&&(o=`QA= ${formatNumber(a.debit_aktual)} lt/dt`),null!=a.debit_rekomendasi&&(r=`QR= ${formatNumber(a.debit_rekomendasi)} lt/dt`),$(`#${a.id}-petak`).html(`\n          <table id="petak-${a.id}">\n            <thead>\n              <tr>\n                <th class="text-center" colspan="2">${a.nama_petak}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td class="luas-petak">\n                  ${t}\n                </td>\n                <td>\n                  <span class="debit-kebutuhan text-dark">${n}</span>\n                  </br>\n                  <span class="debit-aktual text-primary">${o}</span>\n                  </br>\n                  <span class="debit-rekomendasi text-warning">${r}</span>\n                </td>\n              </tr>\n            <tbody>\n          </table>\n        `)}),enableElements())}).catch(e=>{enableElements();let a=e.response.data;a.success||console.log(a.message)})}function formatNumber(e){let a=parseFloat(e.toFixed(2)).toString();return a.endsWith(".00")&&(a=a.slice(0,-3)),a}