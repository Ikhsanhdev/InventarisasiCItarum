"use strict";var dataTableForecast,dataForecast={init:function(){$(".parsley-validation").parsley(),$("#search-forecast-table").keyup(function(){dataTableForecast.search($(this).val()).draw()}),$("#length-forecast-table").change(function(){dataTableForecast.page.len($(this).val()).draw()}),(dataTableForecast=$("#table-forecast").DataTable({processing:!0,serverSide:!0,dom:"tipr",order:[[2,"asc"]],ajax:{url:"/Master/GetDataForecast",type:"POST",dataType:"JSON"},columns:[{data:null},{data:"tanggal",name:"Tanggal",render:function(a){return formatDate(a,"tanggal")}},{data:"ketersediaanMin",name:"KetersediaanMin",render:function(a){return a?`<span class="ketersediaan-color fw-semibold text-center d-block">${parseFloat(a).toFixed(2)}</span>`:'<span class="text-center d-block">-</span>'}},{data:"ketersediaanMax",name:"KetersediaanMax",render:function(a){return a?`<span class="ketersediaan-color fw-semibold text-center d-block">${parseFloat(a).toFixed(2)}</span>`:'<span class="text-center d-block">-</span>'}},{data:"ketersediaanAvg",name:"KetersediaanAvg",render:function(a){return a?`<span class="ketersediaan-color fw-semibold text-center d-block">${parseFloat(a).toFixed(2)}</span>`:'<span class="text-center d-block">-</span>'}},{data:"updatedAt",name:"UpdatedAt",render:function(a){return formatDate(a,"update")}}],columnDefs:[{targets:0,searchable:!1,orderable:!1,width:"9%",className:"text-center"},{targets:-1,searchable:!1,orderable:!1,width:"18%",className:"text-center"}],language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}})).on("draw.dt",function(){var a=dataTableForecast.page.info();dataTableForecast.column(0,{search:"applied",order:"applied",page:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1+a.start})})}};function formatDate(a,e){const t=new Date(a),r=t.getDate(),n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.getMonth()],s=t.getFullYear(),d=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return"tanggal"===e?`${r} ${n} ${s}`:"update"===e?`${r} ${n} ${s} ${d}:${o}`:void 0}jQuery(document).ready(function(){dataForecast.init()});