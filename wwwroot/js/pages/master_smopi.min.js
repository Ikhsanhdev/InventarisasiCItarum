"use strict";var dataTableSmopi,dataSmopi=function(){var a=function(a){dataTableSmopi?dataTableSmopi.ajax.url("/Master/GetDataSmopi?date="+a).load():console.error("dataTableSmopi is not initialized.")};return{init:function(){$(".parsley-validation").parsley(),$("#search-ai-table").keyup(function(){dataTableSmopi.search($(this).val()).draw()}),$("#length-ai-table").change(function(){dataTableSmopi.page.len($(this).val()).draw()}),function(){(dataTableSmopi=$("#table-ai").DataTable({processing:!0,serverSide:!0,dom:"tipr",order:[[2,"asc"]],ajax:{url:"/Master/GetDataSmopi",type:"POST",dataType:"JSON",data:function(a){a.date=$("#filter-date").val()}},columns:[{data:null},{data:"tanggal",name:"Tanggal",className:"text-center",render:function(a){return formatDate(a,"tanggal")}},{data:"namaPetak",name:"NamaPetak",className:"text-center"},{data:"luas",name:"Luas",className:"text-center"},{data:"debitRekomendasi",name:"DebitRekomendasi",className:"text-center"},{data:"location",name:"Location",className:"text-center"},{data:"updatedAt",name:"UpdatedAt",render:function(a){return formatDate(a,"update")}}],columnDefs:[{targets:0,searchable:!1,orderable:!1,width:"9%",className:"text-center"},{targets:-1,searchable:!1,orderable:!1,width:"18%",className:"text-center"}],language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}})).on("draw.dt",function(){var a=dataTableSmopi.page.info();dataTableSmopi.column(0,{search:"applied",order:"applied",page:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1+a.start})});var e=(new Date).toISOString().split("T")[0];$("#filter-date").val(e),a(e)}(),function(){var e=new Date($("#filter-date").val());function t(e){var t=e.toISOString().split("T")[0];$("#filter-date").val(t),a(t)}$("#btn-prev").click(function(){e.setDate(e.getDate()-1),t(e)}),$("#btn-next").click(function(){e.setDate(e.getDate()+1),t(e)}),t(e)}()}}}();function formatDate(a,e){const t=new Date(a),n=t.getDate(),i=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.getMonth()],r=t.getFullYear(),l=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return"tanggal"===e?`${n} ${i} ${r}`:"update"===e?`${n} ${i} ${r} ${l}:${o}`:void 0}jQuery(document).ready(function(){dataSmopi.init()});