"use strict";var dataTableAwlr,dataTableArr,dataTableWqms,dataTableAws,dataTableVnotch,TabelMonitoring={init:function(){(dataTableAwlr=$("#awlr-table").DataTable({processing:!0,serverSide:!0,paging:!1,searching:!1,ordering:!1,info:!1,ajax:{url:"/Home/GetDatatableMvAwlrLastReading",type:"POST",dataType:"JSON"},columns:[{data:null},{data:"name",name:"name",render:function(a,e,t){return`<a href="/Station/Detail/${t.slug}" target="_blank" class="text-blue fw-semibold">${a}</a>`}},{data:"readingAt",name:"readingAt",className:"text-center",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("D MMMM YYYY")}`:"-"}},{data:"readingAt",name:"readingAt",className:"text-center",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("HH:mm")}`:"-"}},{data:"waterLevel",name:"waterLevel",className:"text-center",createdCell:function(a,e,t,n,r){if($(a).removeClass("bg-normal"),$(a).removeClass("bg-siaga3"),$(a).removeClass("bg-siaga2"),$(a).removeClass("bg-siaga1"),$(a).removeClass("bg-nostatus"),"cmdpl"!=t.unitSensor&&"mdpl"!=t.unitSensor)switch(t.warningStatus){case"Normal":$(a).addClass("bg-normal");break;case"Siaga 3":$(a).addClass("bg-siaga3");break;case"Siaga 2":$(a).addClass("bg-siaga2");break;case"Siaga 1":$(a).addClass("bg-siaga1");break;default:$(a).addClass("bg-nostatus")}},render:function(a,e,t){return null==a?"-":"cmdpl"!=t.unitSensor&&"mdpl"!=t.unitSensor||a!=t.waterLevelElevation?`<span class="text-dark fw-semibold">${a} ${t.unitDisplay}</span>`:"-"}},{data:"waterLevelElevation",name:"waterLevelElevation",className:"text-center",createdCell:function(a,e,t,n,r){if($(a).removeClass("bg-normal"),$(a).removeClass("bg-siaga3"),$(a).removeClass("bg-siaga2"),$(a).removeClass("bg-siaga1"),$(a).removeClass("bg-nostatus"),"cmdpl"==t.unitSensor||"mdpl"==t.unitSensor)switch(t.warningStatus){case"Normal":$(a).addClass("bg-normal");break;case"Siaga 3":$(a).addClass("bg-siaga3");break;case"Siaga 2":$(a).addClass("bg-siaga2");break;case"Siaga 1":$(a).addClass("bg-siaga1");break;default:$(a).addClass("bg-nostatus")}},render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"changeStatus",name:"changeStatus",className:"text-center",render:function(a,e,t){return"constant"==a?"":"increase"==a?`<div class="d-flex justify-content-center align-items-center">\n                            <i class="mdi mdi-arrow-up-circle text-danger font-16 me-1"></i>\n                            <small class="text-danger">${t.changeValue}</small>\n                        </div>`:"decrease"==a?`<div class="d-flex justify-content-center align-items-center">\n                            <i class="mdi mdi-arrow-down-circle text-success font-16 me-1"></i>\n                            <small class="text-success">${t.changeValue}</small>\n                        </div>`:""}},{data:"debit",name:"debit",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="fw-semibold">${a}</span>`}},{data:"battery",name:"battery",className:"text-center"}],columnDefs:[{targets:0,searchable:!1,orderable:!1,width:"6%",className:"text-center"}],language:{url:"/data/datatable_locale_id.json"}})).on("draw.dt",function(){var a=dataTableAwlr.page.info();dataTableAwlr.column(0,{search:"applied",order:"applied",page:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1+a.start})}),(dataTableArr=$("#arr-table").DataTable({processing:!0,serverSide:!0,paging:!1,searching:!1,ordering:!1,info:!1,scrollX:!1,ajax:{url:"/Home/GetDatatableMvArrLastReading",type:"POST",dataType:"JSON"},columns:[{data:null},{data:"name",name:"name",render:function(a,e,t){return`<a href="/Station/Detail/${t.slug}" target="_blank" class="text-blue fw-semibold">${a}</a>`}},{data:"readingAt",name:"readingAt",className:"text-center text-nowrap",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("D MMMM YYYY")}`:"-"}},{data:"readingAt",name:"readingAt",className:"text-center",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("HH:mm")}`:"-"}},{data:"rainfallLastHour",name:"rainfallLastHour",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"intensityLastHour",name:"intensityLastHour",className:"text-center text-nowrap",createdCell:function(a,e,t,n,r){switch(e){case"Berawan":$(a).addClass("bg-berawan");break;case"Hujan Ringan":$(a).addClass("bg-hujan-ringan");break;case"Hujan Sedang":$(a).addClass("bg-hujan-sedang");break;case"Hujan Lebat":$(a).addClass("bg-hujan-lebat");break;case"Hujan Sangat Lebat":$(a).addClass("bg-hujan-sangat-lebat")}},render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"rainfallLastDay",name:"rainfallLastDay",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"intensityLastDay",name:"intensityLastDay",className:"text-center text-nowrap",createdCell:function(a,e,t,n,r){switch(e){case"Berawan":$(a).addClass("bg-berawan");break;case"Hujan Ringan":$(a).addClass("bg-hujan-ringan");break;case"Hujan Sedang":$(a).addClass("bg-hujan-sedang");break;case"Hujan Lebat":$(a).addClass("bg-hujan-lebat");break;case"Hujan Sangat Lebat":$(a).addClass("bg-hujan-sangat-lebat")}},render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"battery",name:"battery",className:"text-center",render:function(a,e,t){return null==a?"-":a}}],columnDefs:[{targets:0,searchable:!1,orderable:!1,width:"6%",className:"text-center"}],language:{url:"/data/datatable_locale_id.json"}})).on("draw.dt",function(){var a=dataTableArr.page.info();dataTableArr.column(0,{search:"applied",order:"applied",page:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1+a.start})}),(dataTableWqms=$("#wqms-table").DataTable({processing:!0,serverSide:!0,paging:!1,searching:!1,ordering:!1,info:!1,scrollX:!1,ajax:{url:"/Home/GetDatatableMvWqmsLastReading",type:"POST",dataType:"JSON"},columns:[{data:null},{data:"name",name:"name",render:function(a,e,t){return`<a href="/Station/Detail/${t.slug}" target="_blank" class="text-blue fw-semibold">${a}</a>`}},{data:"readingAt",name:"readingAt",className:"text-center text-nowrap",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("D MMMM YYYY")}`:"-"}},{data:"readingAt",name:"readingAt",className:"text-center",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("HH:mm")}`:"-"}},{data:"temperature",name:"temperature",className:"text-center",render:function(a,e,t){return null==a?"-":a}},{data:"ph",name:"ph",className:"text-center",render:function(a,e,t){return null==a?"-":a}},{data:"orp",name:"orp",className:"text-center",render:function(a,e,t){return null==a?"-":a}},{data:"turbidity",name:"turbidity",className:"text-center",render:function(a,e,t){return null==a?"-":a}},{data:"battery",name:"battery",className:"text-center",render:function(a,e,t){return null==a?"-":a}}],columnDefs:[{targets:0,searchable:!1,orderable:!1,width:"6%",className:"text-center"}],language:{url:"/data/datatable_locale_id.json"}})).on("draw.dt",function(){var a=dataTableWqms.page.info();dataTableWqms.column(0,{search:"applied",order:"applied",page:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1+a.start})}),(dataTableAws=$("#aws-table").DataTable({processing:!0,serverSide:!0,paging:!1,searching:!1,ordering:!1,info:!1,scrollX:!1,ajax:{url:"/Home/GetDatatableMvAwsLastReading",type:"POST",dataType:"JSON"},columns:[{data:null},{data:"name",name:"name",className:"text-nowrap",render:function(a,e,t){return`<a href="/Station/Detail/${t.slug}" target="_blank" class="text-blue fw-semibold">${a}</a>`}},{data:"readingAt",name:"readingAt",className:"text-center text-nowrap",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("D MMMM YYYY")}`:"-"}},{data:"readingAt",name:"readingAt",className:"text-center text-nowrap",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("HH:mm")}`:"-"}},{data:"humidity",name:"humidity",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}%</span><br/><small class="text-muted">${t.humidityStatus}</small>`}},{data:"intensityLastHour",name:"intensityLastHour",className:"text-center text-nowrap",createdCell:function(a,e,t,n,r){switch(e){case"Berawan":$(a).addClass("bg-berawan");break;case"Hujan Ringan":$(a).addClass("bg-hujan-ringan");break;case"Hujan Sedang":$(a).addClass("bg-hujan-sedang");break;case"Hujan Lebat":$(a).addClass("bg-hujan-lebat");break;case"Hujan Sangat Lebat":$(a).addClass("bg-hujan-sangat-lebat")}},render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${t.rainfallLastHour}</span><br/><small style="color: #555555;font-weight:500;">${a}</small>`}},{data:"pressure",name:"pressure",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"solarRadiation",name:"solarRadiation",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"temperature",name:"temperature",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"windDirection",name:"windDirection",className:"text-center text-nowrap",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}&deg;</span><br/>\n                    <small class="d-flex justify-content-center align-items-center text-muted">\n                        <span style="transform: rotate(${a}deg);"><i class="mdi mdi-navigation"></i></span>\n                        <span class="ms-1">${t.windDirectionStatus}</span>\n                    </small>`}},{data:"windSpeed",name:"windSpeed",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"evaporation",name:"evaporation",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}},{data:"battery",name:"battery",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a}</span>`}}],columnDefs:[{targets:0,searchable:!1,orderable:!1,width:"6%",className:"text-center"}],language:{url:"/data/datatable_locale_id.json"}})).on("draw.dt",function(){var a=dataTableAws.page.info();dataTableAws.column(0,{search:"applied",order:"applied",page:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1+a.start})}),(dataTableVnotch=$("#vnotch-table").DataTable({processing:!0,serverSide:!0,paging:!1,searching:!1,ordering:!1,info:!1,ajax:{url:"/Home/GetDatatableMvVnotchLastReading",type:"POST",dataType:"JSON"},columns:[{data:null},{data:"name",name:"name",render:function(a,e,t){return`<a href="/Station/Detail/${t.slug}" target="_blank" class="text-blue fw-semibold">${a}</a>`}},{data:"readingAt",name:"readingAt",className:"text-center",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("D MMMM YYYY")}`:"-"}},{data:"readingAt",name:"readingAt",className:"text-center",render:function(a,e,t){return null!=a?`${moment(a).locale("id").format("HH:mm")}`:"-"}},{data:"waterLevel",name:"waterLevel",className:"text-center",render:function(a,e,t){return`<span class="text-dark fw-semibold">${a} ${t.unitDisplay}</span>`}},{data:"changeStatus",name:"changeStatus",className:"text-center",render:function(a,e,t){return"constant"==a?"":"increase"==a?`<div class="d-flex justify-content-center align-items-center">\n                            <i class="mdi mdi-arrow-up-circle text-danger font-16 me-1"></i>\n                            <small class="text-danger">${t.changeValue}</small>\n                        </div>`:"decrease"==a?`<div class="d-flex justify-content-center align-items-center">\n                            <i class="mdi mdi-arrow-down-circle text-success font-16 me-1"></i>\n                            <small class="text-success">${t.changeValue}</small>\n                        </div>`:""}},{data:"debit",name:"debit",className:"text-center",render:function(a,e,t){return null==a?"-":`<span class="text-dark fw-semibold">${a} ${t.unitDebit}</span>`}},{data:"battery",name:"battery",className:"text-center"}],columnDefs:[{targets:0,searchable:!1,orderable:!1,width:"6%",className:"text-center"}],language:{url:"/data/datatable_locale_id.json"}})).on("draw.dt",function(){var a=dataTableVnotch.page.info();dataTableVnotch.column(0,{search:"applied",order:"applied",page:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1+a.start})}),setInterval(loadLastReading,3e5)}};function loadLastReading(){dataTableAwlr.ajax.reload(),dataTableArr.ajax.reload()}function getIntensityIcon(a){let e="pagi",t=moment();t.locale("id"),t.tz("Asia/Jakarta");let n=t.hours();e=n>=5&&n<10?"pagi":n>=10&&n<17?"siang":n>=17&&n<19?"sore":"malam";let r="berawan.png";switch(a){case"Berawan":r=`berawan-${e}.png`;break;case"Hujan Ringan":r="hujan-ringan.png";break;case"Hujan Sedang":r="hujan-sedang.png";break;case"Hujan Lebat":r="hujan-lebat.png";break;case"Hujan Sangat Lebat":r="hujan-sangat-lebat.png"}return r}jQuery(document).ready(function(){TabelMonitoring.init()});