"use strict";var dataTableHistory,dataHistory={init:function(){$(".parsley-validation").parsley(),$("#search-history-table").keyup(function(){dataTableHistory.search($(this).val()).draw()}),$("#length-history-table").change(function(){dataTableHistory.page.len($(this).val()).draw()}),(dataTableHistory=$("#table-history").DataTable({processing:!0,serverSide:!0,dom:"tipr",order:[[2,"asc"]],ajax:{url:"/DebitBendung/GetDataAll",type:"POST",dataType:"JSON"},columns:[{data:null},{data:"tanggal",name:"Tanggal"},{data:"ketersediaanMin",name:"KetersediaanMin",render:function(a){return a?`<span class="ketersediaan-color fw-semibold">${parseFloat(a).toFixed(2)}</span>`:"-"}},{data:"ketersediaanMax",name:"KetersediaanMax",render:function(a){return a?`<span class="ketersediaan-color fw-semibold">${parseFloat(a).toFixed(2)}</span>`:"-"}},{data:"ketersediaanAvg",name:"KetersediaanAvg",render:function(a){return a?`<span class="ketersediaan-color fw-semibold">${parseFloat(a).toFixed(2)}</span>`:"-"}},{data:"kebutuhan",name:"Kebutuhan",render:function(a){return a?`<span class="kebutuhan-color fw-semibold">${parseFloat(a).toFixed(2)}</span>`:"-"}},{data:null,render:function(a,e,t){const n=t.ketersediaanAvg&&t.kebutuhan?t.ketersediaanAvg/t.kebutuhan*100:0;return`<span class="${n>=100?"text-success":"text-warning"} fw-semibold">${n.toFixed(2)}%</span>`}}],columnDefs:[{targets:0,searchable:!1,orderable:!1,width:"9%",className:"text-center"},{targets:1,render:function(a){return null===a?"":moment(a).locale("id").format("D MMMM YYYY")+' <small class="text-muted">'}},{targets:-1,searchable:!1,orderable:!1,width:"18%",className:"text-center"}],language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}})).on("draw.dt",function(){var a=dataTableHistory.page.info();dataTableHistory.column(0,{search:"applied",order:"applied",page:"applied"}).nodes().each(function(e,t){e.innerHTML=t+1+a.start})})}};jQuery(document).ready(function(){dataHistory.init()});