"use strict";var DataManual={init:function(){$("#filter_month").datepicker({format:"yyyy-mm",startView:"months",minViewMode:"months",todayHighlight:!0,orientation:"bottom",endDate:"0m",autoclose:!0}).change(function(){getDataManualByReadingDate()}),getDataManualByReadingDate()}};function getDataManualByReadingDate(){"AWLR"==getValueById("Type")?$("#manual-detail-table tbody").html('<tr>\n            <td colspan="7"><div class="d-flex align-items-center justify-content-center"><div class="spinner-border avatar-sm text-primary m-2" role="status"></div> Loading...</div></td>\n        </tr>'):"ARR"==getValueById("Type")&&$("#manual-detail-table tbody").html('<tr>\n            <td colspan="5"><div class="d-flex align-items-center justify-content-center"><div class="spinner-border avatar-sm text-primary m-2" role="status"></div> Loading...</div></td>\n        </tr>');var t=new FormData;t.append("station_id",getValueById("Id")),t.append("reading_month",getValueById("filter_month")),postData("/DataManual/GetDataManualByReadingDate",t).then(t=>{$("#manual-detail-table tbody").empty();let a=t.data;if(200==a.code)if(a.response.length>0){var e=0;a.response.forEach(t=>{e=t.readings.length,t.readings.forEach((t,a)=>{var n=0,d="",i="";null!=t.note&&(d=t.note),t.hasOwnProperty("waterLevel")&&(n=t.waterLevel,i=`<td class="fw-bold text-center align-middle text-danger" rowspan="${e}"></td>\n                            <td class="fw-bold text-center align-middle text-danger" rowspan="${e}"></td>`),t.hasOwnProperty("rainfall")&&(n=t.rainfall),e>1?0==a?$("#manual-detail-table tbody").append(`<tr>\n                                    <td class="fw-bold text-center" rowspan="${e}">\n                                        ${t.readingDate}\n                                    </td>\n                                    <td class="text-center">\n                                        <a href="${t.photo}" class="image-popup" title="${t.readingDate} ${t.readingHour}">\n                                            <img src="${t.photo}" class="rounded avatar-sm" alt="${t.readingDate} ${t.readingHour}">\n                                        </a>\n                                    </td>\n                                    <td class="text-center">\n                                        <a href="javascript:void(0);" class="btn btn-sm btn-link font-14 fw-bold ${t.isExtremeCondition?"text-danger":""}" data="36" onclick="createEdit(this,event)">${t.readingHour}</a>\n                                    </td>\n                                    <td class="fw-bold text-center">${n}</td>\n                                    ${i}\n                                    <td>${d}</td>\n                                </tr>`):$("#manual-detail-table tbody").append(`<tr>\n                                    <td class="fw-bold text-center"></td>\n                                    <td class="text-center">\n                                        <a href="javascript:void(0);" class="btn btn-sm btn-link font-14 fw-bold ${t.isExtremeCondition?"text-danger":""}" data="36" onclick="createEdit(this,event)">${t.readingHour}</a>\n                                    </td>\n                                    <td class="fw-bold text-center">${n}</td>\n                                    <td>${d}</td>\n                                </tr>`):$("#manual-detail-table tbody").append(`<tr>\n                                <td class="fw-bold text-center" rowspan="${e}">\n                                    ${t.readingDate}\n                                </td>\n                                <td class="text-center">\n                                    <a href="${t.photo}" class="image-popup" title="${t.readingDate} ${t.readingHour}">\n                                        <img src="${t.photo}" class="rounded avatar-sm" alt="${t.readingDate} ${t.readingHour}">\n                                    </a>\n                                </td>\n                                <td class="text-center">\n                                    <a href="javascript:void(0);" class="btn btn-sm btn-link font-14 fw-bold ${t.isExtremeCondition?"text-danger":""}" data="36" onclick="createEdit(this,event)">${t.readingHour}</a>\n                                </td>\n                                <td class="fw-bold text-center">${n}</td>\n                                ${i}\n                                <td>${d}</td>\n                            </tr>`)})})}else"AWLR"==getValueById("Type")?$("#manual-detail-table tbody").html('<tr>\n                        <td class="text-center fst-italic" colspan="7">Data pencatatan tidak tersedia.</td>\n                    </tr>'):"ARR"==getValueById("Type")&&$("#manual-detail-table tbody").html('<tr>\n                        <td class="text-center fst-italic" colspan="5">Data pencatatan tidak tersedia.</td>\n                    </tr>')}),$(".image-popup").magnificPopup({type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(t){return t.el.attr("title")}},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(t){return t.find("img")}}})}jQuery(document).ready(function(){DataManual.init()});