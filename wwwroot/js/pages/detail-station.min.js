"use strict";const NOW_YEAR=(new Date).getFullYear(),STATION_ID=stationId,STATION_TYPE=stationType,UNIT_DISPLAY=$("#unit-display").val(),UNIT_SENSOR=null==$("#unit-sensor").val()?"":$("#unit-sensor").val(),IS_ONLY_MDPL=UNIT_SENSOR.includes("pl"),STATION_NAME=$("#station-name").val(),WATERSHED_NAME=$("#watershed-name").val(),wQSensors=["temperature","ph","orp","turbidity","baterai"],TIME_ZONE=$("#time-zone").val();let sensorNames=[],dynamicVariable={};$("#arr-telemetry-info").fadeOut(250),$("#awlr-telemetry-info").fadeOut(250);const vNotchGarfikConfig={tma:{unit:"cm",color:"#00008B",name:"Tinggi Muka Air"},debit:{unit:"L/s",color:"#2E8B57",name:"Debit"},battery:{unit:"V",color:"#FFA500",name:"baterai"}},piezometerGarfikConfig={tma:{unit:UNIT_DISPLAY,color:"#00008B",name:"Tinggi Muka Air"},battery:{unit:"V",color:"#FFA500",name:"baterai"}},awsSensors={humidity:{unit:"%",color:"#00008B",sensorName:"Kelembaban"},pressure:{unit:"MB",color:"#2E8B57",sensorName:"Tekanan"},rainfall:{unit:"mm",color:"#FFA500",sensorName:"Curah Hujan"},solarRadiation:{unit:"W/s<sup>2</sup>",color:"#8B0000",sensorName:"Radiasi Matahari"},temperature:{unit:"&degC",color:"#3498db",sensorName:"Suhu"},windDirection:{unit:"&deg",color:"#696969",sensorName:"Arah Angin"},windSpeed:{unit:"Km/j",color:"#A9A9A9",sensorName:"Kecepatan Angin"},evaporation:{unit:"mm",color:"#4682B4",sensorName:"Penguapan"},battery:{unit:"V",color:"#FFA500",sensorName:"Baterai"}};"AWS"==STATION_TYPE&&(sensorNames=$("#sensor-name").val().split(","));let dynamicVariableName=[];var GRAFIK_ARR,GRAFIK_AWLR,GARIFK_BATTERY,GARIFK_DEBIT,GARIFK_CH_HARIAN,GARIFK_PER_DAS,GRAFIK_ELEVATION,GRAFIK_SENSOR_WQ,GRAFIK_VNOTCH,GRAFIK_WIND_DIRECTION,GRAFIK_AWLR_ARR_TMA_CH,GRAFIK_AWLR_ARR_CH_DAY,GRAFIK_AWLR_ARR_DEBIT,GRAFIK_AWLR_ARR_BATTERY,GRAFIK_PIEZOMETER;let READING_TABLE,filter_date,selected_time="minute",dynamicValues=[],countClickTabTelemetri=0,momentjs=moment();switch(momentjs.locale("id"),TIME_ZONE){case"WITA":momentjs.tz("Asia/Makassar");break;case"WIT":momentjs.tz("Asia/Jayapura");break;default:momentjs.tz("Asia/Jakarta")}$(document).ready(function(){IS_ONLY_MDPL&&($("#grafik-title").text("GRAFIK MUKA AIR"),$("#tab-title-awlr").text("Grafik Muka Air")),redrawCustomMarkers();let e=$("#periode").val(),t=$("#waktu").val();$.fn.datepicker.dates.id={days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],daysShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],daysMin:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],today:"Hari Ini",clear:"Clear",format:"yyyy-mm-dd",titleFormat:"MM yyyy",weekStart:0},flatpickr("#periode-grafik",{defaultDate:"today",maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}),flatpickr("#periode-battery",{defaultDate:"today",maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}),flatpickr("#periode-debit",{defaultDate:"today",maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}),flatpickr("#periode-grafik-per-das",{defaultDate:"today",maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}),$("#waktu").on("change",function(){t=$(this).val(),e=$("#periode").val(),loadDatePicker("periode",t,e),generateDataTable(STATION_TYPE,"table-telemetri",t,e)}),$("#waktu-grafik").on("change",function(){t=$(this).val(),e=$("#periode-grafik").val(),loadDatePicker("waktu-grafik",t,e)}),$("#periode").on("change",function(){e=$(this).val(),t=$("#waktu").val(),/^(\d{1,2}) (January|February|March|April|May|June|July|August|September|October|November|December) (\d{2})$/.test(e)||generateDataTable(STATION_TYPE,"table-telemetri",t,e)}),$("#periode-grafik").on("change",function(){let e=$(this).val();t="hour","AWLR"!=STATION_TYPE&&"V-Notch"!=STATION_TYPE||(t="minute"),loadGrafik(t,e)}),$("#periode-battery").on("change",function(){let e=$(this).val();t="hour","AWLR"==STATION_TYPE&&(t="minute"),loadGrafikBattery(t,e)}),$("#periode-debit").on("change",function(){let e=$(this).val();loadGrafikDebit(t="minute",e)}),$("#periode-ch-harian").on("change",function(){let e=$(this).val();loadGrafikChHarian(t="day",e)}),$("#periode-grafik-per-das").on("change",function(){loadGrafikTmaPerDAS(e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-temperature").on("change",function(){loadGrafikWaterQuality("temperature",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-ph").on("change",function(){loadGrafikWaterQuality("ph",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-orp").on("change",function(){loadGrafikWaterQuality("orp",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-turbidity").on("change",function(){loadGrafikWaterQuality("turbidity",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-baterai").on("change",function(){loadGrafikWaterQuality("baterai",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-humidity").on("change",function(){loadGrafikAWS("humidity",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-tma-ch-awlr-arr").on("change",function(){loadGrafikAwlrArrTmaCh("",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-debit-awlr-arr").on("change",function(){loadGrafikDebitAwlrArr("",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-ch-harian-awlr-arr").on("change",function(){loadGrafikChHarianAwlrArr("",e=moment($(this).val()).format("YYYY-MM-DD"))}),$("#periode-battery-awlr-arr").on("change",function(){loadGrafikBatteryAwlrArr("",e=moment($(this).val()).format("YYYY-MM-DD"))}),Object.entries(awsSensors).forEach(([t,a])=>{$(`#periode-${t}-aws`).on("change",function(){e=moment($(this).val()).format("YYYY-MM-DD"),loadGrafikAWS(t,e)}),dynamicValues.push({[`${t}-aws`]:void 0})}),Object.entries(vNotchGarfikConfig).forEach(([t,a])=>{$(`#periode-${t}-vnotch`).on("change",function(){e=moment($(this).val()).format("YYYY-MM-DD"),loadGrafikVNotch(t,e)})}),Object.entries(piezometerGarfikConfig).forEach(([t,a])=>{$(`#periode-${t}-piezometer`).on("change",function(){e=moment($(this).val()).format("YYYY-MM-DD"),loadGrafikPiezometer(t,e)})})}),$("#tab-tma-per-das").on("click",function(){flatpickr("#periode-grafik-per-das",{defaultDate:"today",maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}),loadGrafikTmaPerDAS(filter_date=moment(new Date).format("YYYY-MM-DD"))}),$("#tab-info").on("click",function(){$("#arr-telemetry-info").fadeOut(150),$("#awlr-telemetry-info").fadeOut(150)}),$("#tab-telemetri").on("click",function(){if("ARR"==STATION_TYPE&&"minute"!=$("#waktu").val()&&$("#arr-telemetry-info").fadeIn(250),"AWLR"==STATION_TYPE&&"day"!=$("#waktu").val()&&$("#awlr-telemetry-info").fadeIn(250),"AWS"==STATION_TYPE&&"minute"!=$("#waktu").val()&&$("#arr-telemetry-info").fadeIn(250),"AWLR_ARR"==STATION_TYPE&&"minute"==$("#waktu").val()?($("#awlr-telemetry-info").fadeIn(250),$("#arr-telemetry-info").fadeOut(250)):"AWLR_ARR"==STATION_TYPE&&"day"==$("#waktu").val()?($("#awlr-telemetry-info").fadeOut(150),$("#arr-telemetry-info").fadeIn(250)):($("#awlr-telemetry-info").fadeIn(250),$("#arr-telemetry-info").fadeIn(250)),!(countClickTabTelemetri>0)){if(countClickTabTelemetri++,momentjs=moment(new Date),filter_date=momentjs.format("DD MMMM YYYY"),selected_time=null==$("#waktu").val()?"minute":$("#waktu").val(),"ARR"==STATION_TYPE){let e=checkIsCurrentTimeBefore7AM();if(e=!0){const e=new Date,t=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`;momentjs=moment(t),filter_date=momentjs.format("DD MMMM YYYY")}loadDatePicker("periode",selected_time,filter_date)}else loadDatePicker("periode",selected_time,filter_date);generateDataTable(STATION_TYPE,"table-telemetri",selected_time,filter_date)}});let countClickTabGrafik=0;function loadDatePicker(e,t,a){switch($(`#${e}`).datepicker("destroy"),a=moment(new Date).format("YYYY-MM-DD"),t){case"day":$(`#${e}`).datepicker({format:"MM yyyy",viewMode:"months",minViewMode:"months",endDate:"{{ date('MM Y') }}",autoclose:!0,todayHighlight:!0,orientation:"bottom",altFormat:"yyyy-MM"}),$(`#${e}`).datepicker("setDate",a),$(`#${e}`).datepicker("update","{{ date('MM Y') }}");break;default:$(`#${e}`).datepicker({format:"d MM yyyy",autoclose:!0,todayHighlight:!0,endDate:"{{ date('d M Y') }}",orientation:"bottom",altFormat:"yyyy-mm-dd"}),$(`#${e}`).datepicker("setDate",a),$(`#${e}`).datepicker("update","{{ date('d M Y') }}")}}function capitalizeFirstLetter(e){return 0===e.length?"":e.charAt(0).toUpperCase()+e.slice(1)}function checkIsCurrentTimeBefore7AM(){var e=new Date,t=e.getHours();e.getMinutes();return t>=0&&t<7}function generateDataTable(e,t,a,n){let r,i=[],o=[];if($.fn.DataTable.isDataTable("#"+t)&&$("#"+t).DataTable().clear().destroy(),"ARR"==e){switch(a){case"minute":$("#arr-telemetry-info").fadeOut(250),i=[{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"rainfall",name:"Rainfall",render:function(e){return console.log(e),`<strong>${e}</strong>`}}],o=[{targets:[2],render:function(e,t,a){return`<strong>${e}</strong>`}}],r='<tr>\n                        <th>Tanggal</th>\n                        <th>Jam</th>\n                        <th>CH <small class="text-muted">(mm)</small> </th>\n                      </tr>';break;case"hour":$("#arr-telemetry-info").fadeIn(250),r='<tr>\n                        <th>Tanggal</th>\n                        <th>Jam</th>\n                        <th>CH <small class="text-muted">(mm)</small></th>\n                        <th>Intensitas</th>\n                      </tr>',i=[{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"rainfall",name:"Rainfall",render:function(e){return`<strong>${e}</strong>`}},{data:"intensity",name:"Intensity",createdCell:function(e,t,a,n,r){switch(t){case"Berawan":$(e).addClass("bg-berawan");break;case"Hujan Ringan":$(e).addClass("bg-hujan-ringan");break;case"Hujan Sedang":$(e).addClass("bg-hujan-sedang");break;case"Hujan Lebat":$(e).addClass("bg-hujan-lebat");break;case"Hujan Sangat Lebat":$(e).addClass("bg-hujan-sangat-lebat")}},render:function(e){return`<strong>${e}</strong>`}}],o=[{targets:[2,3],render:function(e,t,a){return`<strong>${e}</strong>`}}];break;case"day":$("#arr-telemetry-info").fadeIn(250),r='<tr>\n                        <th>Tanggal</th>\n                        <th>CH <small class="text-muted">(mm)</small></th>\n                        <th>Intensitas</th>\n                      </tr>',i=[{data:"readingDateOnly",name:"ReadingDateOnly",render:function(e,t,a){return moment(e).locale("id").format("D MMMM YYYY")}},{data:"rainfall",name:"Rainfall",render:function(e){return`<strong>${e}</strong>`}},{data:"intensity",name:"Intensity",createdCell:function(e,t,a,n,r){switch(t){case"Berawan":$(e).addClass("bg-berawan");break;case"Hujan Ringan":$(e).addClass("bg-hujan-ringan");break;case"Hujan Sedang":$(e).addClass("bg-hujan-sedang");break;case"Hujan Lebat":$(e).addClass("bg-hujan-lebat");break;case"Hujan Sangat Lebat":$(e).addClass("bg-hujan-sangat-lebat")}},render:function(e){return`<strong>${e}</strong>`}}],o=[{targets:[1,2],render:function(e,t,a){return`<strong>${e}</strong>`}}]}$(`#${t} thead`).html(r),$(`#${t}`).DataTable({dom:"rti",paging:!1,ordering:!1,processing:!0,serverSide:!0,ajax:{url:URL,type:"POST",data:{stationId:STATION_ID,filterDate:n,selectedTime:a,stationType:STATION_TYPE}},columnDefs:o,columns:i,language:{emptyTable:function(){return"ARR"===STATION_TYPE&&n===moment().format("YYYY-MM-DD")&&moment().format("HH")<"07"?`Data yang tersedia dimulai pada tanggal ${moment(n).format("D MMMM YYYY")} pukul 07:00 Pagi`:"No data available"}}})}if("AWLR"==e){switch(a){case"day":$("#awlr-telemetry-info").fadeOut(250),i=[{data:"readingDateOnly",name:"ReadingDateOnly",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"waterLevelAvg",name:"WaterLevelAvg"},{data:"waterLevelMin",name:"WaterLevelMin"},{data:"waterLevelMax",name:"WaterLevelMax"}],o=[{className:"dt-center",targets:[1,2,3]}],r=IS_ONLY_MDPL?`<tr>\n                        <th>Tanggal</th>\n                        <th>Elevasi Rerata (${UNIT_DISPLAY})</th>\n                        <th>Elevasi Minimum (${UNIT_DISPLAY})</th>\n                        <th>Elevasi Maksimum (${UNIT_DISPLAY})</th>\n                      </tr>`:`<tr>\n                        <th>Tanggal</th>\n                        <th>TMA Rerata (${UNIT_DISPLAY})</th>\n                        <th>TMA Minimum (${UNIT_DISPLAY})</th>\n                        <th>TMA Maksimum (${UNIT_DISPLAY})</th>\n                      </tr>`;break;case"hour":$("#awlr-telemetry-info").fadeIn(250),i=[{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"waterLevel",name:"WaterLevel",createdCell:function(e,t,a,n,r){if(!IS_ONLY_MDPL&&($(e).removeClass("bg-normal"),$(e).removeClass("bg-siaga3"),$(e).removeClass("bg-siaga2"),$(e).removeClass("bg-siaga1"),$(e).removeClass("bg-nostatus"),"cmdpl"!=a.unitSensor&&"mdpl"!=a.unitSensor))switch(a.warningStatus){case"Normal":$(e).addClass("bg-normal");break;case"Siaga 3":$(e).addClass("bg-siaga3");break;case"Siaga 2":$(e).addClass("bg-siaga2");break;case"Siaga 1":$(e).addClass("bg-siaga1");break;default:$(e).addClass("bg-nostatus")}},render:function(e){return IS_ONLY_MDPL?null:`<strong>${e}</strong>`}},{data:"waterLevelElevation",name:"WaterLevelelevation",createdCell:function(e,t,a,n,r){if(IS_ONLY_MDPL&&($(e).removeClass("bg-normal"),$(e).removeClass("bg-siaga3"),$(e).removeClass("bg-siaga2"),$(e).removeClass("bg-siaga1"),$(e).removeClass("bg-nostatus"),"cmdpl"!=a.unitSensor&&"mdpl"!=a.unitSensor))switch(a.warningStatus){case"Normal":$(e).addClass("bg-normal");break;case"Siaga 3":$(e).addClass("bg-siaga3");break;case"Siaga 2":$(e).addClass("bg-siaga2");break;case"Siaga 1":$(e).addClass("bg-siaga1");break;default:$(e).addClass("bg-nostatus")}},render:function(e){return null==e?"":`<strong>${e}</strong>`},render:function(e){return null==e?"":`<strong>${e}</strong>`}},{data:"changeStatus",name:"ChangeStatus",render:function(e,t,a){return null==e||""==e||"constant"==e?"":"decrease"==e?`<span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} m</span>`:"increase"==e?`<span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} m</span>`:void 0}},{data:"debit",name:"Debit"},{data:"warningStatus",name:"WarningStatus",render:function(e,t,a){if(""==e||null==e||null==e)return"";switch(e){case"Normal":return`<span class="badge bg-soft-success text-success">${e}</span>`;case"Siaga 1":return`<span class="badge bg-soft-danger text-danger">${e}</span>`;case"Siaga 2":return`<span class="badge bg-soft-orage" style="background:#FFA600;">${e}</span>`;case"Siaga 3":return`<span class="badge bg-soft-warning text-warning">${e}</span>`}}}],o=[{className:"dt-center",targets:[1,2,3,4,5,6]}],r=`<tr>\n                      <th>Tanggal</th>\n                      <th>Jam</th>\n                      <th>TMA ${"mdpl"==UNIT_DISPLAY?"":`(${UNIT_DISPLAY})`}</th>\n                      <th>Elevasi (${"m"==UNIT_DISPLAY?"mdpl":"cm"==UNIT_DISPLAY?"mdpl":UNIT_DISPLAY})</th>\n                      <th>Perubahan</th>\n                      <th>Debit (m3/s)</th>\n                      <th>Status</th>\n                    </tr>`;break;default:$("#awlr-telemetry-info").fadeIn(250),i=[{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"waterLevel",name:"WaterLevel",createdCell:function(e,t,a,n,r){if(!IS_ONLY_MDPL&&($(e).removeClass("bg-normal"),$(e).removeClass("bg-siaga3"),$(e).removeClass("bg-siaga2"),$(e).removeClass("bg-siaga1"),$(e).removeClass("bg-nostatus"),"cmdpl"!=a.unitSensor&&"mdpl"!=a.unitSensor))switch(a.warningStatus){case"Normal":$(e).addClass("bg-normal");break;case"Siaga 3":$(e).addClass("bg-siaga3");break;case"Siaga 2":$(e).addClass("bg-siaga2");break;case"Siaga 1":$(e).addClass("bg-siaga1");break;default:$(e).addClass("bg-nostatus")}},render:function(e){return IS_ONLY_MDPL?null:`<strong>${e}</strong>`}},{data:"waterLevelElevation",name:"WaterLevelelevation",createdCell:function(e,t,a,n,r){if(IS_ONLY_MDPL&&($(e).removeClass("bg-normal"),$(e).removeClass("bg-siaga3"),$(e).removeClass("bg-siaga2"),$(e).removeClass("bg-siaga1"),$(e).removeClass("bg-nostatus"),"cmdpl"!=a.unitSensor&&"mdpl"!=a.unitSensor))switch(a.warningStatus){case"Normal":$(e).addClass("bg-normal");break;case"Siaga 3":$(e).addClass("bg-siaga3");break;case"Siaga 2":$(e).addClass("bg-siaga2");break;case"Siaga 1":$(e).addClass("bg-siaga1");break;default:$(e).addClass("bg-nostatus")}},render:function(e){return null==e?"":`<strong>${e}</strong>`}},{data:"changeStatus",name:"ChangeStatus",render:function(e,t,a){return null==e||""==e||"constant"==e?"":"decrease"==e?`<span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} </span>`:"increase"==e?`<span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} </span>`:void 0}},{data:"debit",name:"Debit"},{data:"warningStatus",name:"WarningStatus",render:function(e,t,a){if(""==e||null==e||null==e)return"";switch(e){case"Normal":return`<span class="badge bg-soft-success text-success">${e}</span>`;case"Siaga 1":return`<span class="badge bg-soft-danger text-danger">${e}</span>`;case"Siaga 2":return`<span class="badge text-orange" style="background:#FFA600;">${e}</span>`;case"Siaga 3":return`<span class="badge bg-soft-warning text-warning">${e}</span>`}}}],o=[{className:"dt-center",targets:[1,2,3,4,5,6]}],r=`<tr>\n                      <th>Tanggal</th>\n                      <th>Jam</th>\n                      <th>TMA ${"mdpl"==UNIT_DISPLAY?"":`(${UNIT_DISPLAY})`}</th>\n                      <th>Elevasi (${"m"==UNIT_DISPLAY?"mdpl":"cm"==UNIT_DISPLAY?"mdpl":UNIT_DISPLAY})</th>\n                      <th>Perubahan</th>\n                      <th>Debit (m3/s)</th>\n                      <th>Status</th>\n                    </tr>`}$(`#${t} thead`).html(r),$(`#${t}`).DataTable({dom:"rti",paging:!1,ordering:!1,processing:!0,serverSide:!0,ajax:{url:URL,type:"POST",data:{stationId:STATION_ID,filterDate:n,selectedTime:a,stationType:STATION_TYPE}},columnDefs:o,columns:i})}if("WQMS"==e){switch(a){case"day":i=[{data:"readingDateOnly",name:"ReadingDateOnly",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"temperatureAvg",name:"TemperatureAvg",render:function(e){return`<strong>${e}</strong>`}},{data:"phAvg",name:"PhAvg",render:function(e){return`<strong>${e}</strong>`}},{data:"orpAvg",name:"OrpAvg",render:function(e,t,a){return`<strong>${e}</strong>`}},{data:"turbidityAvg",name:"TurbidityAvg",render:function(e,t,a){return`<strong>${e}</strong>`}},{data:"batteryAvg",name:"BatteryAvg",render:function(e,t,a){return`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[1,2,3]}],r=' <tr>\n                        <th rowspan="2" class="text-center" style="vertical-align: middle">Tanggal</th>\n                        <th colspan="5" class="text-center">Rerata</th>\n                      </tr>\n                      <tr>\n                        <th>Suhu (&degC)</th>\n                        <th>pH</th>\n                        <th>ORP (mV)</th>\n                        <th>Turbidity (NTU)</th>\n                        <th>Baterai (V)</th>\n                    </tr>';break;case"hour":i=[{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"temperature",name:"Temperature",render:function(e){return`<strong>${e}</strong>`}},{data:"ph",name:"Ph",render:function(e){return`<strong>${e}</strong>`}},{data:"orp",name:"Orp",render:function(e,t,a){return`<strong>${e}</strong>`}},{data:"turbidity",name:"Turbidity",render:function(e,t,a){return`<strong>${e}</strong>`}},{data:"battery",name:"Battery",render:function(e,t,a){return`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[1,2,3,4,5,6]}],r="<tr>\n                      <th>Tanggal</th>\n                      <th>Jam</th>\n                      <th>Suhu (&degC)</th>\n                      <th>pH</th>\n                      <th>ORP (mV)</th>\n                      <th>Turbidity (NTU)</th>\n                      <th>Baterai (V)</th>\n                    </tr>";break;default:i=[{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"temperature",name:"Temperature",render:function(e){return`<strong>${e}</strong>`}},{data:"ph",name:"Ph",render:function(e){return`<strong>${e}</strong>`}},{data:"orp",name:"Orp",render:function(e,t,a){return`<strong>${e}</strong>`}},{data:"turbidity",name:"Turbidity",render:function(e,t,a){return`<strong>${e}</strong>`}},{data:"battery",name:"Battery",render:function(e,t,a){return`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[1,2,3,4,5,6]}],r="<tr>\n                      <th>Tanggal</th>\n                      <th>Jam</th>\n                      <th>Suhu (&degC)</th>\n                      <th>pH</th>\n                      <th>ORP (mV)</th>\n                      <th>Turbidity (NTU)</th>\n                      <th>Baterai (V)</th>\n                    </tr>"}$(`#${t} thead`).html(r),$(`#${t}`).DataTable({dom:"rti",paging:!1,ordering:!1,processing:!0,serverSide:!0,ajax:{url:URL,type:"POST",data:{stationId:STATION_ID,filterDate:n,selectedTime:a,stationType:STATION_TYPE}},columnDefs:o,columns:i})}if("AWS"==e){switch(a){case"minute":$("#arr-telemetry-info").fadeOut(150),i=[{data:"readingAt",name:"ReadingAt",className:"text-center text-nowrap",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}}],r='<tr>\n                        <th class="text-center" style="vertical-align: middle">Tanggal</th>\n                        <th class="text-center" style="vertical-align: middle">Jam</th>\n                        ',sensorNames.forEach(e=>{let t=awsSensors[e];i.push({data:e,name:capitalizeFirstLetter(e),render:function(t,a,n){switch(e){case"humidity":return`<span class="text-dark fw-semibold">${t}%</span><br/><small class="text-muted">${n.humidityStatus}</small>`;case"windDirection":return`<span class="text-dark fw-semibold">${t}&deg;</span><br/>\n                    <small class="d-flex justify-content-center align-items-center text-muted">\n                        <span style="transform: rotate(${t}deg);"><i class="mdi mdi-navigation"></i></span>\n                        <span class="ms-1">${n.windDirectionStatus}</span>\n                    </small>`;default:return`<strong>${t}</strong>`}}}),r+=`<th class="text-center" style="vertical-align: middle">${capitalizeFirstLetter(awsSensors[e].sensorName)} </br> <small class="text-muted">(${t.unit})</small></th>`}),r+="</tr>";break;case"day":$("#arr-telemetry-info").fadeIn(150),i=[{data:"readingDateOnly",name:"ReadingDateOnly",className:"text-center text-nowrap",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}}],r='<tr>\n                        <th class="text-center" style="vertical-align: middle">Tanggal</th>\n                        ',sensorNames.forEach(e=>{let t=awsSensors[e];if("rainfall"==e)i.push({data:e,name:capitalizeFirstLetter(e),createdCell:function(e,t,a,n,r){switch($("#arr-telemetry-info").fadeIn(250),a.intensity){case"Berawan":$(e).addClass("bg-berawan");break;case"Hujan Ringan":$(e).addClass("bg-hujan-ringan");break;case"Hujan Sedang":$(e).addClass("bg-hujan-sedang");break;case"Hujan Lebat":$(e).addClass("bg-hujan-lebat");break;case"Hujan Sangat Lebat":$(e).addClass("bg-hujan-sangat-lebat")}},render:function(e,t,a){return`<span class="text-dark fw-semibold">${e}</span><br/><small style="color: #555555;font-weight:500;">${a.intensity}</small>`}});else{let t=e+"Avg";"battery"!=e&&i.push({data:t,name:capitalizeFirstLetter(t),render:function(t,a,n){if(""==t||null==t||null==t)return"<b>-</b>";switch(e){case"humidity":return`<span class="text-dark fw-semibold">${t}%</span><br/><small class="text-muted">${n.humidityStatus}</small>`;case"windDirection":return`<span class="text-dark fw-semibold">${t}&deg;</span><br/>\n                    <small class="d-flex justify-content-center align-items-center text-muted">\n                        <span style="transform: rotate(${t}deg);"><i class="mdi mdi-navigation"></i></span>\n                        <span class="ms-1">${n.windDirectionStatus}</span>\n                    </small>`;default:return`<strong>${t}</strong>`}}})}"battery"!=e&&(r+=`<th class="text-center" style="vertical-align: middle">${capitalizeFirstLetter(awsSensors[e].sensorName)} </br> <small class="text-muted">(${t.unit})</small></th>`)}),r+="</tr>";break;default:$("#arr-telemetry-info").fadeIn(150),i=[{data:"readingHour",name:"ReadingHour",className:"text-center text-nowrap",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}}],r='<tr>\n                        <th class="text-center" style="vertical-align: middle">Tanggal</th>\n                        <th class="text-center" style="vertical-align: middle">Jam</th>\n                        ',sensorNames.forEach(e=>{let t=awsSensors[e];"rainfall"==e?i.push({data:e,name:capitalizeFirstLetter(e),createdCell:function(e,t,a,n,r){switch($("#arr-telemetry-info").fadeIn(250),a.intensity){case"Berawan":$(e).addClass("bg-berawan");break;case"Hujan Ringan":$(e).addClass("bg-hujan-ringan");break;case"Hujan Sedang":$(e).addClass("bg-hujan-sedang");break;case"Hujan Lebat":$(e).addClass("bg-hujan-lebat");break;case"Hujan Sangat Lebat":$(e).addClass("bg-hujan-sangat-lebat")}},render:function(e,t,a){return`<span class="text-dark fw-semibold">${e}</span><br/><small style="color: #555555;font-weight:500;">${a.intensity}</small>`}}):i.push({data:e,name:capitalizeFirstLetter(e),render:function(t,a,n){if(""==t||null==t||null==t)return"<b>-</b>";switch(e){case"humidity":return`<span class="text-dark fw-semibold">${t}%</span><br/><small class="text-muted">${n.humidityStatus}</small>`;case"windDirection":return`<span class="text-dark fw-semibold">${t}&deg;</span><br/>\n                    <small class="d-flex justify-content-center align-items-center text-muted">\n                        <span style="transform: rotate(${t}deg);"><i class="mdi mdi-navigation"></i></span>\n                        <span class="ms-1">${n.windDirectionStatus}</span>\n                    </small>`;default:return`<strong>${t}</strong>`}}}),r+=`<th class="text-center" style="vertical-align: middle">${capitalizeFirstLetter(awsSensors[e].sensorName)} </br> <small class="text-muted">(${t.unit})</small></th>`}),r+="</tr>"}$(`#${t} thead`).html(r),$(`#${t}`).DataTable({dom:"rti",paging:!1,ordering:!1,processing:!0,serverSide:!0,scrollX:!1,ajax:{url:URL,type:"POST",data:{stationId:STATION_ID,filterDate:n,selectedTime:a,stationType:STATION_TYPE}},columnDefs:o,columns:i,language:{emptyTable:function(){const e=parseInt(moment().format("HH"));return n===moment().format("YYYY-MM-DD")&&e<7?`Data yang tersedia pada tanggal ${moment(n).format("D MMMM YYYY")} dimulai pukul 07:00 Pagi`:"No data available"}}})}if("V-Notch"==e){switch(a){case"day":i=[{data:"readingDateOnly",name:"ReadingDateOnly",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"waterLevelAvg",name:"WaterLevelAvg",render:function(e){return`<strong>${e} cm</strong>`}},{data:"waterLevelMin",name:"WaterLevelMin",render:function(e){return`<strong>${e} cm</strong>`}},{data:"waterLevelMax",name:"WaterLevelMax",render:function(e){return`<strong>${e} cm</strong>`}},{data:"debitAvg",name:"DebitAvg",render:function(e){return`<strong>${e} L/s</strong>`}},{data:"debitMin",name:"DebitMin",render:function(e){return`<strong>${e} L/s</strong>`}},{data:"debitMax",name:"DebitMax",render:function(e){return`<strong>${e} L/s</strong>`}}],o=[{className:"dt-center",targets:[1,2,3,4,5,6]}],r=" <tr>\n                      <th>Tanggal</th>\n                      <th>TMA Rerata</th>\n                      <th>TMA Minimum</th>\n                      <th>TMA Maksimum</th>\n                      <th>Debit Rerata</th>\n                      <th>Debit Minimum</th>\n                      <th>TMA Maksimum</th>\n                    </tr>";break;case"hour":i=[{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"waterLevel",name:"WaterLevel",render:function(e){return IS_ONLY_MDPL?null:`<strong>${e} cm</strong>`}},{data:"changeStatus",name:"ChangeStatus",render:function(e,t,a){return null==e||""==e||"constant"==e?"":"decrease"==e?`<span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} </span>`:"increase"==e?`<span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} </span>`:void 0}},{data:"debit",name:"Debit",render:function(e){return null==e?"":`<strong>${e} L/s</strong>`}},{data:"battery",name:"Battery",render:function(e,t,a){return null==e?"":`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[1,2,3,4,5]}],r="<tr>\n                      <th>Tanggal</th>\n                      <th>Jam</th>\n                      <th>TMA</th>\n                      <th>Perubahan </th>\n                      <th>Debit</th>\n                      <th>Baterai (V)</th>\n                    </tr>";break;default:i=[{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"waterLevel",name:"WaterLevel",render:function(e){return IS_ONLY_MDPL?null:`<strong>${e} cm</strong>`}},{data:"changeStatus",name:"ChangeStatus",render:function(e,t,a){return null==e||""==e||"constant"==e?"":"decrease"==e?`<span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue}</span>`:"increase"==e?`<span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue}</span>`:void 0}},{data:"debit",name:"Debit",render:function(e){return null==e?"":`<strong>${e} L/s</strong>`}},{data:"battery",name:"Battery",render:function(e,t,a){return null==e?"":`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[1,2,3,4,5]}],r="<tr>\n                      <th>Tanggal</th>\n                      <th>Jam</th>\n                      <th>TMA</th>\n                      <th>Perubahan </th>\n                      <th>Debit</th>\n                      <th>Baterai (V)</th>\n                    </tr>"}$(`#${t} thead`).html(r),$(`#${t}`).DataTable({dom:"rti",paging:!1,ordering:!1,processing:!0,serverSide:!0,ajax:{url:URL,type:"POST",data:{stationId:STATION_ID,filterDate:n,selectedTime:a,stationType:STATION_TYPE}},columnDefs:o,columns:i})}if("Piezometer"==e){switch(a){case"day":i=[{data:"readingDateOnly",name:"ReadingDateOnly",render:function(e,t,a){return""==e||null==e||null==e?"-":moment(e).locale("id").format("D MMMM YYYY")}},{data:"waterLevelAvg",name:"WaterLevelAvg",render:function(e){return`<strong>${e} ${UNIT_DISPLAY}</strong>`}},{data:"waterLevelMin",name:"WaterLevelMin",render:function(e){return`<strong>${e} ${UNIT_DISPLAY}</strong>`}},{data:"waterLevelMax",name:"WaterLevelMax",render:function(e){return`<strong>${e} ${UNIT_DISPLAY}</strong>`}}],o=[{className:"dt-center",targets:[0,1,2,3]}],r=" <tr>\n                        <th>Tanggal</th>\n                        <th>TMA Rerata</th>\n                        <th>TMA Minimum</th>\n                        <th>TMA Maksimum</th>\n                      </tr>";break;case"hour":i=[{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"-":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"-":moment(e).locale("id").format("HH:mm")}},{data:"waterLevel",name:"WaterLevel",render:function(e){return IS_ONLY_MDPL?null:`<strong>${e} ${UNIT_DISPLAY}</strong>`}},{data:"changeStatus",name:"ChangeStatus",render:function(e,t,a){return null==e||""==e||"constant"==e?"-":"decrease"==e?`<span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} </span>`:"increase"==e?`<span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} </span>`:void 0}},{data:"battery",name:"Battery",render:function(e,t,a){return null==e?"":`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[0,1,2,3,4]}],r=`<tr>\n                      <th>Tanggal</th>\n                      <th>Jam</th>\n                      <th>TMA (${UNIT_DISPLAY})</th>\n                      <th>Perubahan </th>\n                      <th>Baterai (V)</th>\n                    </tr>`;break;default:i=[{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"-":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"-":moment(e).locale("id").format("HH:mm")}},{data:"waterLevel",name:"WaterLevel",render:function(e){return IS_ONLY_MDPL?null:`<strong>${e} ${UNIT_DISPLAY}</strong>`}},{data:"changeStatus",name:"ChangeStatus",render:function(e,t,a){return null==e||""==e||"constant"==e?"-":"decrease"==e?`<span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue}</span>`:"increase"==e?`<span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue}</span>`:void 0}},{data:"battery",name:"Battery",render:function(e,t,a){return null==e?"-":`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[0,1,2,3,4]}],r=`<tr>\n                      <th>Tanggal</th>\n                      <th>Jam</th>\n                      <th>TMA (${UNIT_DISPLAY})</th>\n                      <th>Perubahan </th>\n                      <th>Baterai (V)</th>\n                    </tr>`}$(`#${t} thead`).html(r),$(`#${t}`).DataTable({dom:"rti",paging:!1,ordering:!1,processing:!0,serverSide:!0,ajax:{url:URL,type:"POST",data:{stationId:STATION_ID,filterDate:n,selectedTime:a,stationType:STATION_TYPE}},columnDefs:o,columns:i})}if("AWLR_ARR"==e){switch(a){case"day":$("#awlr-telemetry-info").fadeOut(100),$("#arr-telemetry-info").fadeIn(250),i=[{data:"readingDateOnly",name:"readingDateOnly",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"waterLevelAvg",name:"WaterLevelAvg",render:function(e){return IS_ONLY_MDPL?"-":`<strong>${e}</strong>`}},{data:"waterLevelMin",name:"WaterLevelMin",render:function(e){return IS_ONLY_MDPL?"-":`<strong>${e}</strong>`}},{data:"waterLevelMax",name:"WaterLevelMax",render:function(e){return IS_ONLY_MDPL?"-":`<strong>${e}</strong>`}},{data:"rainfall",name:"Rainfall",render:function(e){return null==e?"-":`<strong>${e}</strong>`}},{data:"intensity",name:"Intensity",createdCell:function(e,t,a,n,r){generateStyleRainfall(e,t,a,n,r)},render:function(e){return null==e?"-":`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[1,2,3,4,5]}],r='<tr>\n                        <th rowspan="2">Tanggal</th>\n                        <th colspan="3">Tinggi Muka Air</th>\n                        <th colspan="2">Curah Hujan</th>\n                      </tr>\n                      <tr>\n                        <th>TMA Rerata (m)</th>\n                        <th>TMA Minimum (m)</th>\n                        <th>TMA Maksimum (m)</th>\n                        <th>CH (mm)</th>\n                        <th>Intensitas</th>\n                      </tr>';break;case"hour":$("#awlr-telemetry-info").fadeIn(250),$("#arr-telemetry-info").fadeIn(250),i=[{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingHour",name:"ReadingHour",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("HH:mm")}},{data:"waterLevel",name:"WaterLevel",createdCell:function(e,t,a,n,r){generateStyleWaterLevel(e,t,a,n,r)},render:function(e){return IS_ONLY_MDPL?"-":`<strong>${e}</strong>`}},{data:"changeStatus",name:"ChangeStatus",render:function(e,t,a){return null==e||""==e||"constant"==e?"-":"decrease"==e?`<span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} </span>`:"increase"==e?`<span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue} </span>`:void 0}},{data:"debit",name:"Debit",render:function(e){return null==e?"-":`<strong>${e}</strong>`}},{data:"rainfall",name:"Rainfall",render:function(e){return null==e?"-":`<strong>${e}</strong>`}},{data:"intensity",name:"Intensity",createdCell:function(e,t,a,n,r){generateStyleRainfall(e,t,a,n,r)},render:function(e){return null==e?"-":`<strong>${e}</strong>`}},{data:"battery",name:"Battery",render:function(e,t,a){return null==e?"-":`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[1,2,3,4,5]}],r=`<tr>\n                        <th rowspan="2">Tanggal</th>\n                        <th rowspan="2">Jam</th>\n                        <th colspan="3">Tinggi Muka Air</th>\n                        <th colspan="2">Curah Hujan</th>\n                        <th rowspan="2">Baterai (V)</th>\n                      </tr>\n                      <tr>\n                        <th>TMA (${UNIT_DISPLAY})</th>\n                        <th>Perubahan</th>\n                        <th>Debit</th>\n                        <th>CH (mm)</th>\n                        <th>Intensitas</th>\n                      </tr>`;break;default:$("#awlr-telemetry-info").fadeIn(250),$("#arr-telemetry-info").fadeOut(200),i=[{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"":moment(e).locale("id").format("D MMMM YYYY")}},{data:"readingAt",name:"ReadingAt",render:function(e,t,a){return""==e||null==e||null==e?"-":moment(e).locale("id").format("HH:mm")}},{data:"waterLevel",name:"WaterLevel",createdCell:function(e,t,a,n,r){generateStyleWaterLevel(e,t,a,n,r)},render:function(e){return IS_ONLY_MDPL?"-":`<strong>${e}</strong>`}},{data:"changeStatus",name:"ChangeStatus",render:function(e,t,a){return null==e||""==e||"constant"==e?"-":"decrease"==e?`<span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue}</span>`:"increase"==e?`<span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold"\n                                style="font-size: 15px;"></i> ${a.changeValue}</span>`:void 0}},{data:"debit",name:"Debit",render:function(e){return null==e?"-":`<strong>${e} L/s</strong>`}},{data:"rainfall",name:"Rainfall",render:function(e){return null==e?"-":`<strong>${e}</strong>`}},{data:"battery",name:"Battery",render:function(e,t,a){return null==e?"-":`<strong>${e}</strong>`}}],o=[{className:"dt-center",targets:[1,2,3,4,5]}],r=`<tr>\n                        <th rowspan="2">Tanggal</th>\n                        <th rowspan="2">Jam</th>\n                        <th colspan="3">Tinggi Muka Air</th>\n                        <th>Curah Hujan</th>\n                        <th rowspan="2">Baterai (V)</th>\n                      </tr>\n                      <tr>\n                        <th>TMA (${UNIT_DISPLAY})</th>\n                        <th>Perubahan</th>\n                        <th>Debit</th>\n                        <th>CH (mm)</th>\n                      </tr>`}$(`#${t} thead`).html(r),$(`#${t}`).DataTable({dom:"rti",paging:!1,ordering:!1,processing:!0,serverSide:!0,ajax:{url:URL,type:"POST",data:{stationId:STATION_ID,filterDate:n,selectedTime:a,stationType:STATION_TYPE}},columnDefs:o,columns:i})}}function loadGrafik(e,t){let a="/Station/GetDataGrafikArr";"AWLR"==STATION_TYPE&&(a="/Station/GetDataGrafikAwlr"),$.ajax({url:a,type:"POST",data:{stationId:STATION_ID,filterDate:t,selectedTime:e,stationType:STATION_TYPE},beforeSend:function(){document.getElementById("not-exist-1")||$("#container").append('<div class="text-center" id="info-no-grafik"> \n                                    <h5 class="text-secondary" id="not-exist-1">Loading ...</h5>\n                                </div>')},success:function(e){if($("#info-no-grafik").remove(),0==e.dataGrafik.length){const e=document.getElementById("container");"undefined"!=typeof Highcharts&&e&&GRAFIK_ARR&&(GRAFIK_ARR.destroy(),GRAFIK_ARR=null),"undefined"!=typeof Highcharts&&e&&GRAFIK_AWLR&&(GRAFIK_AWLR.destroy(),GRAFIK_AWLR=null);const t='<div class="text-center" id="info-no-grafik"> \n                                    <h5 class="text-secondary" id="not-exist-1">Data Grafik Tidak Tersedia</h5>\n                                </div>';return document.getElementById("not-exist-1")||$("#container").append(t),void("ARR"==STATION_TYPE&&$("#label-grafik").hide())}document.getElementById("info-no-grafik")&&$("#info-no-grafik").remove(),"ARR"==STATION_TYPE&&(generateGrafikArr(t,e),$("#label-grafik").fadeIn(250)),"AWLR"==STATION_TYPE&&(IS_ONLY_MDPL?generateGrafikElevation(t,e):generateGrafikAwlr(t,e))},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikAwlrArrTmaCh(e,t){$.ajax({url:"/Station/GetDataGrafikAwlrArr",type:"POST",data:{stationId:STATION_ID,filterDate:t,selectedTime:e,stationType:STATION_TYPE},beforeSend:function(){document.getElementById("not-exist-1-awlr-arr")||$("#container-tma-ch-awlr-arr").append('<div class="text-center" id="info-no-grafik-awlr-arr"> \n                                    <h5 class="text-secondary" id="not-exist-1-awlr-arr">Loading ...</h5>\n                                </div>')},success:function(e){if($("#info-no-grafik-awlr-arr").remove(),0!=e.dataGrafik.length)document.getElementById("info-no-grafik-awlr-arr")&&$("#info-no-grafik-awlr-arr").remove(),generateGrafikAwlrArrTmaCh(t,e);else{const e=document.getElementById("container-tma-ch-awlr-arr");"undefined"!=typeof Highcharts&&e&&GRAFIK_AWLR_ARR_TMA_CH&&(GRAFIK_AWLR_ARR_TMA_CH.destroy(),GRAFIK_AWLR_ARR_TMA_CH=null);const t='<div class="text-center" id="info-no-grafik-awlr-arr"> \n                                    <h5 class="text-secondary" id="not-exist-1-awlr-arr">Data Grafik Tidak Tersedia</h5>\n                                </div>';document.getElementById("not-exist-1-awlr-arr")||$("#container-tma-ch-awlr-arr").append(t)}},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikWaterQuality(e,t){$.ajax({url:"/Station/GetDataGrafikBySensor",type:"POST",data:{stationId:STATION_ID,filterDate:t,sensor:e},beforeSend:function(){const t=`<div class="text-center" id="info-no-${e}"> \n                                    <h5 class="text-secondary" id="not-exist-${e}">Loading ...</h5>\n                                </div>`;document.getElementById(`not-exist-${e}`)||$(`#container-${e}`).append(t)},success:function(a){if($(`#info-no-${e}`).remove(),0==a.length){const t=document.getElementById("container-battery");"undefined"!=typeof Highcharts&&t&&GRAFIK_SENSOR_WQ&&(GRAFIK_SENSOR_WQ.destroy(),GRAFIK_SENSOR_WQ=null);const a=`<div class="text-center" id="info-no-${e}"> \n                                    <h5 class="text-secondary" id="not-exist-${e}">Data Grafik Tidak Tersedia</h5>\n                                </div>`;document.getElementById(`not-exist-${e}`)||$(`#container-${e}`).append(a)}else generateGrafikWqBySensor(e,t,a)},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function getValueAndIndexByKey(e,t){for(let a=0;a<e.length;a++)if(t in e[a])return{value:e[a][t],index:a};return null}function loadGrafikAWS(e,t){$.ajax({url:"/Station/GetDataGrafikAWSBySensor",type:"POST",data:{stationId:STATION_ID,filterDate:t,sensor:e},beforeSend:function(){const t=`<div class="text-center" id="info-no-${e}"> \n                                    <h5 class="text-secondary" id="not-exist-${e}">Loading ...</h5>\n                                </div>`;document.getElementById(`not-exist-${e}`)||$(`#container-${e}-aws`).append(t)},success:function(a){if($(`#info-no-${e}`).remove(),0==a.length){const t=document.getElementById(`container-${e}-aws`);let a=getValueAndIndexByKey(dynamicValues,`${e}-aws`).index;"windDirection"==e?"undefined"!=typeof Highcharts&&t&&GRAFIK_WIND_DIRECTION&&(GRAFIK_WIND_DIRECTION.destroy(),GRAFIK_WIND_DIRECTION=null):"undefined"!=typeof Highcharts&&t&&dynamicValues[a][`${e}-aws`]&&(dynamicValues[a][`${e}-aws`].destroy(),dynamicValues[a][`${e}-aws`]=null);const n=`<div class="text-center" id="info-no-${e}"> \n                                    <h5 class="text-secondary" id="not-exist-${e}">Data Grafik Tidak Tersedia</h5>\n                                </div>`;document.getElementById(`not-exist-${e}`)||$(`#container-${e}-aws`).append(n)}else"windDirection"==e?generateSensorWindDirection(t,a):generateGrafikAWSBySensor(e,t,a)},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikVNotch(e,t){$.ajax({url:"/Station/GetDataGrafikVNotchByColumn",type:"POST",data:{stationId:STATION_ID,filterDate:t,column:e},beforeSend:function(){const t=`<div class="text-center" id="info-no-${e}-vnotch"> \n                                    <h5 class="text-secondary" id="not-exist-${e}-vnotch">Loading ...</h5>\n                                </div>`;document.getElementById(`not-exist-${e}-vnotch`)||$(`#container-${e}-vnotch`).append(t)},success:function(a){if($(`#info-no-${e}-vnotch`).remove(),0==a.length){const t=document.getElementById(`#container-${e}-vnotch`);"undefined"!=typeof Highcharts&&t&&GRAFIK_VNOTCH&&(GRAFIK_VNOTCH.destroy(),GRAFIK_VNOTCH=null);const a=`<div class="text-center" id="info-no-${e}-vnotch"> \n                                    <h5 class="text-secondary" id="not-exist-${e}-vnotch">Loading ...</h5>\n                                </div>`;document.getElementById(`not-exist-${e}-vnotch`)||$(`#container-${e}-vnotch`).append(a)}else generateGrafikVNotchByColumn(e,t,a)},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikPiezometer(e,t){$.ajax({url:"/Station/GetDataGrafikPiezometerByColumn",type:"POST",data:{stationId:STATION_ID,filterDate:t,column:e},beforeSend:function(){const t=`<div class="text-center" id="info-no-${e}-piezometer"> \n                                    <h5 class="text-secondary" id="not-exist-${e}-piezometer">Loading ...</h5>\n                                </div>`;document.getElementById(`not-exist-${e}-piezometer`)||$(`#container-${e}-piezometer`).append(t)},success:function(a){if($(`#info-no-${e}-piezometer`).remove(),0==a.length){const t=document.getElementById(`#container-${e}-piezometer`);"undefined"!=typeof Highcharts&&t&&GRAFIK_PIEZOMETER&&(GRAFIK_PIEZOMETER.destroy(),GRAFIK_PIEZOMETER=null);const a=`<div class="text-center" id="info-no-${e}-piezometer"> \n                                    <h5 class="text-secondary" id="not-exist-${e}-piezometer">Loading ...</h5>\n                                </div>`;document.getElementById(`not-exist-${e}-piezometer`)||$(`#container-${e}-piezometer`).append(a)}else generateGrafikPiezometerByColumn(e,t,a)},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikBattery(e,t){let a="/Station/GetDataGrafikArr";"AWLR"==STATION_TYPE&&(a="/Station/GetDataGrafikAwlr"),$.ajax({url:a,type:"POST",data:{stationId:STATION_ID,filterDate:t,selectedTime:e,stationType:STATION_TYPE},beforeSend:function(){document.getElementById("not-exist-2")||$("#container-battery").append('<div class="text-center" id="info-no-grafik-battery"> \n                                    <h5 class="text-secondary" id="not-exist-2">Loading ...</h5>\n                                </div>')},success:function(e){if($("#info-no-grafik-battery").remove(),0!=e.dataGrafikBattery.length)document.getElementById("info-no-grafik-battery")&&$("#info-no-grafik-battery").remove(),generateGrafikBattery(t,e);else{const e=document.getElementById("container-battery");"undefined"!=typeof Highcharts&&e&&GARIFK_BATTERY&&(GARIFK_BATTERY.destroy(),GARIFK_BATTERY=null);const t='<div class="text-center" id="info-no-grafik-battery"> \n                                    <h5 class="text-secondary" id="not-exist-2">Data Grafik Tidak Tersedia</h5>\n                                </div>';document.getElementById("not-exist-2")||$("#container-battery").append(t)}},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikBatteryAwlrArr(e,t){$.ajax({url:"/Station/GetDataGrafikBatteryAwlrArr",type:"POST",data:{stationId:STATION_ID,filterDate:t,selectedTime:e,stationType:STATION_TYPE},beforeSend:function(){document.getElementById("not-exist-2")||$("#container-battery-awlr-arr").append('<div class="text-center" id="info-no-grafik-battery-awlr-arr"> \n                                    <h5 class="text-secondary" id="not-exist-2">Loading ...</h5>\n                                </div>')},success:function(e){if($("#info-no-grafik-battery-awlr-arr").remove(),0!=e.length)document.getElementById("info-no-grafik-battery-awlr-arr")&&$("#info-no-grafik-battery-awlr-arr").remove(),generateGrafikBatteryAwlrArr(t,e);else{const e=document.getElementById("container-battery-awlr-arr");"undefined"!=typeof Highcharts&&e&&GARIFK_BATTERY&&(GARIFK_BATTERY.destroy(),GARIFK_BATTERY=null);const t='<div class="text-center" id="info-no-grafik-battery-awlr-arr"> \n                                    <h5 class="text-secondary" id="not-exist-2">Data Grafik Tidak Tersedia</h5>\n                                </div>';document.getElementById("not-exist-2")||$("#container-battery-awlr-arr").append(t)}},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikDebit(e,t){$.ajax({url:"/Station/GetDataGrafikAwlr",type:"POST",data:{stationId:STATION_ID,filterDate:t,selectedTime:e,stationType:STATION_TYPE},beforeSend:function(){document.getElementById("not-exist-3")||$("#container-debit").append('<div class="text-center" id="info-no-grafik-debit"> \n                                    <h5 class="text-secondary" id="not-exist-3">Loading ...</h5>\n                                </div>')},success:function(e){if($("#info-no-grafik-debit").remove(),0!=e.dataGrafikDebit.length)document.getElementById("info-no-grafik-debit")&&$("#info-no-grafik-debit").remove(),generateGrafikDebit(t,e);else{const e=document.getElementById("container-debit");"undefined"!=typeof Highcharts&&e&&GARIFK_DEBIT&&(GARIFK_DEBIT.destroy(),GARIFK_DEBIT=null);const t='<div class="text-center" id="info-no-grafik-debit"> \n                                    <h5 class="text-secondary" id="not-exist-3">Data Grafik Tidak Tersedia</h5>\n                                </div>';document.getElementById("not-exist-3")||$("#container-debit").append(t)}},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikDebitAwlrArr(e,t){$.ajax({url:"/Station/GetDataGrafikDebitAwlrArr",type:"POST",data:{stationId:STATION_ID,filterDate:t,selectedTime:e,stationType:STATION_TYPE},beforeSend:function(){document.getElementById("not-exist-3")||$("#container-debit-awlr-arr").append('<div class="text-center" id="info-no-grafik-debit-awlr-arr"> \n                                    <h5 class="text-secondary" id="not-exist-3">Loading ...</h5>\n                                </div>')},success:function(e){if($("#info-no-grafik-debit-awlr-arr").remove(),0!=e.length)document.getElementById("info-no-grafik-debit-awlr-arr")&&$("#info-no-grafik-debit-awlr-arr").remove(),generateGrafikDebitAwlrArr(t,e);else{const e=document.getElementById("container-debit-awlr-arr");"undefined"!=typeof Highcharts&&e&&GARIFK_DEBIT&&(GARIFK_DEBIT.destroy(),GARIFK_DEBIT=null);const t='<div class="text-center" id="info-no-grafik-debit-awlr-arr"> \n                                    <h5 class="text-secondary" id="not-exist-3">Data Grafik Tidak Tersedia</h5>\n                                </div>';document.getElementById("not-exist-3")||$("#container-debit-awlr-arr").append(t)}},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikTmaPerDAS(e){$.ajax({url:"/Station/GetDataGrafikAwlrPerDas",type:"POST",data:{stationId:STATION_ID,filterDate:e},beforeSend:function(){document.getElementById("not-exist-5")||$("#container-per-das").append('<div class="text-center" id="info-no-grafik-per-das"> \n                                    <h5 class="text-secondary" id="not-exist-5">Loading ...</h5>\n                                </div>')},success:function(t){if($("#info-no-grafik-per-das").remove(),0!=t.length)document.getElementById("info-no-grafik-per-das")&&$("#info-no-grafik-per-das").remove(),generateGrafikAwlrPerDAS(t,e);else{const e=document.getElementById("container-per-das");"undefined"!=typeof Highcharts&&e&&GARIFK_PER_DAS&&(GARIFK_PER_DAS.destroy(),GARIFK_PER_DAS=null);const t='<div class="text-center" id="info-no-grafik-per-das"> \n                                    <h5 class="text-secondary" id="not-exist-5">Data Grafik Tidak Tersedia</h5>\n                                </div>';document.getElementById("not-exist-5")||$("#container-per-das").append(t)}},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikChHarian(e,t){$.ajax({url:"/Station/GetDataGrafikArrDay",type:"POST",data:{stationId:STATION_ID,filterDate:t,selectedTime:e,stationType:STATION_TYPE},beforeSend:function(){document.getElementById("not-exist-4")||$("#container-ch-harian").append('<div class="text-center" id="info-no-grafik-ch-harian"> \n                                    <h5 class="text-secondary" id="not-exist-4">Loading ...</h5>\n                                </div>')},success:function(e){if($("#info-no-grafik-ch-harian").remove(),0==e.dataGrafik.length){const e=document.getElementById("container-ch-harian");"undefined"!=typeof Highcharts&&e&&GARIFK_CH_HARIAN&&(GARIFK_CH_HARIAN.destroy(),GARIFK_CH_HARIAN=null);const t='<div class="text-center" id="info-no-grafik-ch-harian"> \n                                    <h5 class="text-secondary" id="not-exist-4">Data Grafik Tidak Tersedia</h5>\n                                </div>';return document.getElementById("not-exist-4")||$("#container-ch-harian").append(t),void $("#label-grafik-ch-harian").fadeOut(100)}document.getElementById("info-no-grafik-ch-harian")&&$("#info-no-grafik-ch-harian").remove(),$("#label-grafik-ch-harian").fadeIn(250),generateGrafikArrHarian(t,e)},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function loadGrafikChHarianAwlrArr(e,t){$.ajax({url:"/Station/GetDataGrafikChDayAwlrArr",type:"POST",data:{stationId:STATION_ID,filterDate:t,selectedTime:e,stationType:STATION_TYPE},beforeSend:function(){document.getElementById("not-exist-4")||$("#container-ch-harian-awlr-arr").append('<div class="text-center" id="info-no-grafik-ch-harian-awlr-arr"> \n                                    <h5 class="text-secondary" id="not-exist-4">Loading ...</h5>\n                                </div>')},success:function(e){if($("#info-no-grafik-ch-harian-awlr-arr").remove(),0==e.length){const e=document.getElementById("container-ch-harian-awlr-arr");"undefined"!=typeof Highcharts&&e&&GARIFK_CH_HARIAN&&(GARIFK_CH_HARIAN.destroy(),GARIFK_CH_HARIAN=null);const t='<div class="text-center" id="info-no-grafik-ch-harian-awlr-arr"> \n                                    <h5 class="text-secondary" id="not-exist-4">Data Grafik Tidak Tersedia</h5>\n                                </div>';return document.getElementById("not-exist-4")||$("#container-ch-harian-awlr-arr").append(t),void $("#label-grafik-ch-harian-awlr-arr").fadeOut(100)}document.getElementById("info-no-grafik-ch-harian-awlr-arr")&&$("#info-no-grafik-ch-harian-awlr-arr").remove(),$("#label-grafik-ch-harian-awlr-arr").fadeIn(250),generateGrafikArrHarianAwlrArr(t,e)},error:function(e,t,a){console.error("Error: "+t+" - "+a)}})}function generateGrafikArr(e,t){let a=generateDataSeriesGrafik(t.dataGrafik),n="";n=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY"),GRAFIK_ARR=Highcharts.stockChart("container",{chart:{alignTicks:!1,alignTicks:!1,zoomType:"none",zoomType:"xy",panning:!1,pinchType:!1},rangeSelector:{selected:1},navigator:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Curah Hujan Jam - Jaman</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${n}`},xAxis:{type:"datetime",crosshair:!0,title:{text:"Jam"},labels:{format:"{value:%H}"},dateTimeLabelFormats:{hour:"%H"},tickInterval:36e5,scrollbar:{enabled:!1}},yAxis:{min:0,title:{text:"Curah Hujan (mm)"},stackLabels:{style:{color:"#000000",fontWeight:"bold"},enabled:!0,verticalAlign:"top"},opposite:!1},plotOptions:{column:{borderWidth:1,stacking:"normal",pointPadding:0,groupPadding:0,dataLabels:{enabled:!1},dataGrouping:{enabled:!1},zones:[{value:0,borderColor:"#4b5157",color:"#CCCCCC66"},{value:5,borderColor:"#0581a1",color:"#39A6F599"},{value:10,borderColor:"#a87f05",color:"#F7B84B99"},{value:20,borderColor:"#a34d15",color:"#F2832399"},{borderColor:"#b3253a",color:"#EF535099"}]}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat("%e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{t.y;e+="<br/>CH         = "+t.y+" mm",t.y>0&&t.y<=5?e+="<br/>Intensitas = Hujan Ringan":t.y>5&&t.y<=10?e+="<br/>Intensitas = Hujan Sedang":t.y>10&&t.y<=20?e+="<br/>Intensitas = Hujan Lebat":t.y>20?e+="<br/>Intensitas = Hujan Sangat Lebat":e+="<br/>Intensitas = Berawan"}),e}},series:[{type:"column",name:"CH",data:a.map(e=>({x:e[0],y:e[1]}))}]})}function generateGrafikArrHarian(e,t){let a=generateDataSeriesGrafik(t.dataGrafik),n="",r=new Date(e);n=moment(r,"YYYY-MM").locale("id").format("MMMM YYYY"),GARIFK_CH_HARIAN=Highcharts.stockChart("container-ch-harian",{chart:{alignTicks:!1,zoomType:"none",zoomType:"xy",panning:!1,pinchType:!1},rangeSelector:{selected:1},navigator:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Curah Hujan Harian</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${n}`},xAxis:{type:"datetime",crosshair:!0,title:{text:"Tanggal"},labels:{format:"{value:%d}"},dateTimeLabelFormats:{day:"%e %b"},tickInterval:864e5},yAxis:{title:{text:"Curah Hujan (mm)"},formatter:function(){return null===this.value||""===this.value?"-":this.value},stackLabels:{style:{color:"#000000",fontWeight:"bold"},enabled:!0,verticalAlign:"top"},opposite:!1},plotOptions:{series:{pointFormatter:function(){return null!==this.y&&""!==this.y?this.y:"-"}},column:{borderWidth:1,stacking:"normal",pointPadding:0,groupPadding:0,dataLabels:{enabled:!1},dataGrouping:{enabled:!1},zones:[{value:0,borderColor:"#4b5157",color:"#CCCCCC66"},{value:20,borderColor:"#0581a1",color:"#39A6F599"},{value:50,borderColor:"#a87f05",color:"#F7B84B99"},{value:100,borderColor:"#a34d15",color:"#F2832399"},{borderColor:"#b3253a",color:"#EF535099"}]}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat("%e %B",this.x)+"</b>";return this.points.forEach(t=>{t.y;e+="<br/>CH         = "+t.y+" mm",t.y>5&&t.y<=20?e+="<br/>Intensitas = Hujan Ringan":t.y>20&&t.y<=50?e+="<br/>Intensitas = Hujan Sedang":t.y>50&&t.y<=100?e+="<br/>Intensitas = Hujan Lebat":t.y>100?e+="<br/>Intensitas = Hujan Sangat Lebat":e+="<br/>Intensitas = Berawan"}),e}},series:[{type:"column",name:"CH",data:a.map(e=>({x:e[0],y:e[1]}))}]})}function generateGrafikArrHarianAwlrArr(e,t){let a=generateDataSeriesGrafik(t,!1,!1),n="",r=new Date(e);n=moment(r,"YYYY-MM").locale("id").format("MMMM YYYY"),GARIFK_CH_HARIAN=Highcharts.stockChart("container-ch-harian-awlr-arr",{chart:{alignTicks:!1,zoomType:"none",zoomType:"xy",panning:!1,pinchType:!1},rangeSelector:{selected:1},navigator:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Curah Hujan Harian</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${n}`},xAxis:{type:"datetime",crosshair:!0,title:{text:"Tanggal"},labels:{format:"{value:%d}"},dateTimeLabelFormats:{day:"%e %b"},tickInterval:864e5},yAxis:{title:{text:"Curah Hujan (mm)"},formatter:function(){return null===this.value||""===this.value?"-":this.value},stackLabels:{style:{color:"#000000",fontWeight:"bold"},enabled:!0,verticalAlign:"top"},opposite:!1},plotOptions:{series:{pointFormatter:function(){return null!==this.y&&""!==this.y?this.y:"-"}},column:{borderWidth:1,stacking:"normal",pointPadding:0,groupPadding:0,dataLabels:{enabled:!1},dataGrouping:{enabled:!1},zones:[{value:0,borderColor:"#4b5157",color:"#CCCCCC66"},{value:20,borderColor:"#0581a1",color:"#39A6F599"},{value:50,borderColor:"#a87f05",color:"#F7B84B99"},{value:100,borderColor:"#a34d15",color:"#F2832399"},{borderColor:"#b3253a",color:"#EF535099"}]}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat("%e %B",this.x)+"</b>";return this.points.forEach(t=>{t.y;e+="<br/>CH         = "+t.y+" mm",t.y>5&&t.y<=20?e+="<br/>Intensitas = Hujan Ringan":t.y>20&&t.y<=50?e+="<br/>Intensitas = Hujan Sedang":t.y>50&&t.y<=100?e+="<br/>Intensitas = Hujan Lebat":t.y>100?e+="<br/>Intensitas = Hujan Sangat Lebat":e+="<br/>Intensitas = Berawan"}),e}},series:[{type:"column",name:"CH",data:a.map(e=>({x:e[0],y:e[1]}))}]})}function generateGrafikAwlr(e,t){let a=generateDataSeriesGrafik(t.dataGrafik,!1),n=0,r=0,i=0,o=0,l=0,s=0,d=0;null!=t.dataTma&&(n=t.dataTma.tmaMax,r=t.dataTma.tmaMin),null!=t.dataSiaga.siaga1?(i=t.dataSiaga.siaga1,o=t.dataSiaga.siaga2,l=t.dataSiaga.siaga3,null!=n&&(s=n,d=r>i?i:r>o?o:r>l?l:r)):(s=n<1?n+.01:n+.5,d=r);let c="";if(2==e.split("-").length){c=moment(e,"YYYY-MM").locale("id").format("MMMM YYYY")}else{c=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY")}GRAFIK_AWLR=Highcharts.stockChart("container",{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Tinggi Muka Air</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${c}`},yAxis:{title:{text:"Tinggi Muka Air (m)"},max:s,min:d,opposite:!1,plotLines:0!=i?[{value:l,color:"yellow",dashStyle:"shortdash",width:2,label:{text:"Siaga 3",style:{fontWeight:"bold"}},zIndex:5},{value:o,color:"orange",dashStyle:"shortdash",width:2,label:{text:"Siaga 2",style:{fontWeight:"bold"}},zIndex:5},{value:i,color:"red",dashStyle:"shortdash",width:2,label:{text:"Siaga 1",style:{fontWeight:"bold"}},zIndex:5}]:[]},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}",dateTimeLabelFormats:{hour:"%H:%M"}}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle"},lineWidth:1,animation:!0}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{t.y,t.point.y2;e+="<br/>TMA = "+t.y+" m"}),e}},series:[{name:"TMA",type:"areaspline",threshold:null,data:a,lineColor:Highcharts.getOptions().colors[0],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]}}]})}function generateGrafikAwlrArrTmaCh(e,t){console.log(t);let a=generateDataSeriesGrafik(t.dataGrafik,t.isElevasiExsist,!1),n=generateDataSeriesGrafik(t.dataGrafikArr,!1,!1),r=0,i=0,o=0,l=0,s=0,d=0,c=0;null!=t.dataTma&&(r=t.dataTma.tmaMax,i=t.dataTma.tmaMin),null!=t.dataSiaga.siaga1?(o=t.dataSiaga.siaga1,l=t.dataSiaga.siaga2,s=t.dataSiaga.siaga3,null!=r&&(d=r,c=i>o?o:i>l?l:i>s?s:i)):(d=r<1?r+.01:r+.5,c=i);let m="";if(2==e.split("-").length){m=moment(e,"YYYY-MM").locale("id").format("MMMM YYYY")}else{m=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY")}GRAFIK_AWLR_ARR_TMA_CH=Highcharts.stockChart("container-tma-ch-awlr-arr",{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Tinggi Muka Air</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${m}`},yAxis:t.isElevasiExsist?[{title:{text:"Tinggi Muka Air (m)"},max:t.dataTma.tmaMax<t.dataSiaga.siaga3?t.dataSiaga.siaga3:0,min:t.dataTma.tmaMin,opposite:!1,plotLines:[{value:t.dataSiaga.siaga3,color:"yellow",dashStyle:"solid",width:10,label:{text:"Siaga 3"}},{value:t.dataSiaga.siaga2,color:"orange",dashStyle:"solid",width:10,label:{text:"Siaga 2"}},{value:t.dataSiaga.siaga1,color:"red",dashStyle:"solid",width:2,label:{text:"Siaga 1"}}]},{title:{text:"Elevasi (Mdpl)"},max:t.defaultElevation+t.dataTma.tmaMax,min:t.defaultElevation+t.dataTma.tmaMin,opposite:!0,showLastLabel:!0,plotLines:[]}]:[{title:{text:"Tinggi Muka Air (m)"},max:d,min:c,opposite:!1,plotLines:0!=o?[{value:s,color:"yellow",dashStyle:"shortdash",width:2,label:{text:"Siaga 3",style:{fontWeight:"bold"}},zIndex:5},{value:l,color:"orange",dashStyle:"shortdash",width:2,label:{text:"Siaga 2",style:{fontWeight:"bold"}},zIndex:5},{value:o,color:"red",dashStyle:"shortdash",width:2,label:{text:"Siaga 1",style:{fontWeight:"bold"}},zIndex:5}]:[]},{title:{text:null},labels:{enabled:!1},opposite:!0,showLastLabel:!0,reversed:!0,plotLines:[]}],xAxis:{type:"datetime",labels:{format:"{value:%H:%M}",dateTimeLabelFormats:{hour:"%H:%M"}}},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0,color:"black",verticalAlign:"bottom",y:0,style:{textOutline:"none"},formatter:function(){return`${this.y} mm`}},inverted:!0,zones:[{value:0,color:"#6C757D"},{value:5,color:"#1ABC9C"},{value:10,color:"#FFC008"},{value:15,color:"#FF7820"},{color:"#F1556C"}]},series:{marker:{enabled:!0,radius:2,symbol:"circle"},lineWidth:1,animation:!0}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(a=>{const n=a.y,r=(a.point.y2,a.series.options.type);t.isElevasiExsist?(e+="<br/>TMA         = "+n+" m",null==t.defaultElevation?e+="<br/>Elevasi = -":e+="<br/>Elevasi = "+(n+t.defaultElevation)+" Mdpl"):e+="areaspline"==r?"<br/>TMA = "+a.y+" m":"<br/>CH = "+a.y+" mm"}),e}},series:[{name:"TMA",type:"areaspline",threshold:null,data:a,lineColor:Highcharts.getOptions().colors[0],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]}},{name:"Curah Hujan",type:"column",data:n,yAxis:t.isElevasiExsist?2:1}]})}function generateGrafikBattery(e,t){let a=generateDataSeriesGrafik(t.dataGrafikBattery),n="";n=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY"),GARIFK_BATTERY=Highcharts.stockChart("container-battery",{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Baterai</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${n}`},yAxis:{title:{text:"Voltase (V)"},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}",dateTimeLabelFormats:{hour:"%H:%M"}}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle",fillColor:"#FF8000"},lineWidth:1,animation:!0}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{const a=t.y;t.point.y2;e+="<br/>Voltase         = "+a+" V"}),e}},series:[{name:"Battery",type:"line",data:a,lineColor:"#FF8000"}]})}function generateGrafikBatteryAwlrArr(e,t){let a=generateDataSeriesGrafik(t,!1,!1),n="";n=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY"),GARIFK_BATTERY=Highcharts.stockChart("container-battery-awlr-arr",{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Baterai</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${n}`},yAxis:{title:{text:"Voltase (V)"},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}",dateTimeLabelFormats:{hour:"%H:%M"}}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle",fillColor:"#FF8000"},lineWidth:1,animation:!0}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{const a=t.y;t.point.y2;e+="<br/>Voltase         = "+a+" V"}),e}},series:[{name:"Battery",type:"line",data:a,lineColor:"#FF8000"}]})}function generateGrafikDebit(e,t){let a=generateDataSeriesGrafik(t.dataGrafikDebit),n="";n=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY"),GARIFK_DEBIT=Highcharts.stockChart("container-debit",{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Debit</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${n}`},yAxis:{title:{text:"Debit (m3/s)"},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}",dateTimeLabelFormats:{hour:"%H:%M"}}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle",fillColor:"#FF8000"},lineWidth:1,animation:!0}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{const a=t.y;t.point.y2;e+="<br/>Debit         = "+a+" m3/s"}),e}},series:[{name:"Debit",type:"line",data:a,lineColor:"#FF8000"}]})}function generateGrafikDebitAwlrArr(e,t){let a=generateDataSeriesGrafik(t),n="";n=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY"),GARIFK_DEBIT=Highcharts.stockChart("container-debit-awlr-arr",{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Debit</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${n}`},yAxis:{title:{text:"Debit (m3/s)"},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}",dateTimeLabelFormats:{hour:"%H:%M"}}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle",fillColor:"#FF8000"},lineWidth:1,animation:!0}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{const a=t.y;t.point.y2;e+="<br/>Debit         = "+a+" m3/s"}),e}},series:[{name:"Debit",type:"line",data:a,lineColor:"#FF8000"}]})}function generateGrafikAwlrPerDAS(e,t){var a=e.map(e=>({name:e.name,type:e.type,data:e.data.map(e=>[e.millis,e.value])}));let n="";if(2==t.split("-").length){n=moment(new Date,"YYYY-MM").locale("id").format("MMMM YYYY")}else{n=moment(new Date(t),"YYYY-MM-DD").locale("id").format("DD MMMM YYYY")}GARIFK_PER_DAS=Highcharts.stockChart("container-per-das",{title:{text:`Grafik TMA Per ${WATERSHED_NAME}`},subtitle:{text:`<p>Per ${n} </p>`},rangeSelector:{enabled:!1},legend:{enabled:!0},yAxis:{title:{text:"Tinggi Muka Air (m)"},labels:{},plotLines:[{value:0,width:2,color:"silver"}]},tooltip:{pointFormat:'<span style="color:{series.color}"><b>{series.name}</b></span> <br/>TMA    : <b>{point.y:.2f} m</b><br/>Waktu: <b>{point.x:%d %B %Y %H:%M} WIB</b><br/>',split:!0},series:a})}function generateGrafikElevation(e,t){let a=generateDataSeriesGrafik(t.dataGrafik),n=0,r=0,i=0,o=0,l=0,s=0,d=0;null!=t.dataTma&&(n=t.dataTma.tmaMax,r=t.dataTma.tmaMin),null!=t.dataSiaga.siaga1?(i=t.dataSiaga.siaga1,o=t.dataSiaga.siaga2,l=t.dataSiaga.siaga3,null!=n&&(s=n,d=r>i?i:r>o?o:r>l?l:r)):(s=n<1?n+.01:n+.5,d=r);let c="";c=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY"),GRAFIK_AWLR=Highcharts.stockChart("container",{chart:{marginRight:80},navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Muka Air</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${c}`},yAxis:[{title:{text:"Tinggi Muka Air (m)"},opposite:!1},{max:s,min:d,title:{text:`Elevasi Muka Air (${UNIT_DISPLAY})`,offset:50},showLastLabel:!0,labels:{align:"right",x:40,width:"100%"},opposite:!0,plotLines:0!=i?[{value:l,color:"yellow",dashStyle:"shortdash",width:2,label:{text:"Siaga 3",style:{fontWeight:"bold"}},zIndex:5},{value:o,color:"orange",dashStyle:"shortdash",width:2,label:{text:"Siaga 2",style:{fontWeight:"bold"}},zIndex:5},{value:i,color:"red",dashStyle:"shortdash",width:2,label:{text:"Siaga 1",style:{fontWeight:"bold"}},zIndex:5}]:[]}],xAxis:{type:"datetime",labels:{format:"{value:%H:%M}",dateTimeLabelFormats:{hour:"%H:%M"}}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle"},lineWidth:1,animation:!0}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{const a=t.y;t.point.y2;e+="<br/>TMA         =  - ",e+="<br/>EMA         = "+a+" "+UNIT_DISPLAY}),e}},series:[{name:"TMA",yAxis:0,type:"areaspline",threshold:null,data:[],lineColor:Highcharts.getOptions().colors[0],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]}},{name:"EMA",yAxis:1,type:"areaspline",threshold:null,data:a,lineColor:Highcharts.getOptions().colors[0],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]}}]})}function generateGrafikWqBySensor(e,t,a){const n=generateDataSeriesGrafik(a);let r="";r=moment(t,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY");let i="#3498db",o="",l="",s="";switch(e){case"temperature":o=`<div class="text-center"><b>Grafik Suhu</b></br><b>${STATION_NAME}</b></div>`,i="#3498db",l="&degC",s=`${e.charAt(0).toUpperCase()+e.slice(1)} (${l})`;break;case"ph":o=`<div class="text-center"><b>Grafik pH</b></br><b>${STATION_NAME}</b></div>`,i="#00796B",s="pH";break;case"orp":o=`<div class="text-center"><b>Grafik ORP</b></br><b>${STATION_NAME}</b></div>`,i="#2ecc71",l="mV",s=`${e.charAt(0).toUpperCase()+e.slice(1)} (${l})`;break;case"turbidity":o=`<div class="text-center"><b>Grafik Turbidity</b></br><b>${STATION_NAME}</b></div>`,i="#2980b9",l="NTU",s=`${e.charAt(0).toUpperCase()+e.slice(1)} (${l})`;break;default:o=`<div class="text-center"><b>Grafik Baterai</b></br><b>${STATION_NAME}</b></div>`,i="#FF9800",l="Volt",s=`${e.charAt(0).toUpperCase()+e.slice(1)} (${l})`}GRAFIK_SENSOR_WQ=Highcharts.stockChart(`container-${e}`,{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:o,useHTML:!0},subtitle:{text:`Per ${r}`},yAxis:{title:{text:s,useHTML:!0},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}"}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle",fillColor:i},lineWidth:1,animation:!0}},tooltip:{formatter(){let t="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(a=>{const n=a.y;a.point.y2;t+=` <br/>${e.charAt(0).toUpperCase()+e.slice(1)}         =   `+n+" "+l}),t}},series:[{name:"Battery",type:"line",data:n,lineColor:i}]})}function generateGrafikVNotchByColumn(e,t,a){const n=generateDataSeriesGrafik(a);let r="";r=moment(t,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY");let i="#3498db",o="",l="",s="";Object.entries(vNotchGarfikConfig).forEach(([t,a])=>{t==e&&(o=`<div class="text-center"><b>Grafik ${a.name}</b></br><b>${STATION_NAME}</b></div>`,i=a.color,l=a.unit,s=`${a.name} (${l})`)}),GRAFIK_VNOTCH=Highcharts.stockChart(`container-${e}-vnotch`,{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:o,useHTML:!0},subtitle:{text:`Per ${r}`},yAxis:{title:{text:s,useHTML:!0},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}"}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle",fillColor:i},lineWidth:1,animation:!0}},tooltip:{formatter(){let t="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(a=>{const n=a.y;a.point.y2;t+=` <br/>${e.charAt(0).toUpperCase()+e.slice(1)}         =   `+n+" "+l}),t}},series:[{name:"Battery",type:"line",data:n,lineColor:i}]})}function generateGrafikPiezometerByColumn(e,t,a){const n=generateDataSeriesGrafik(a);let r="";r=moment(t,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY");let i="#3498db",o="",l="",s="";Object.entries(piezometerGarfikConfig).forEach(([t,a])=>{t==e&&(o=`<div class="text-center"><b>Grafik ${a.name}</b></br><b>${STATION_NAME}</b></div>`,i=a.color,l=a.unit,s=`${a.name} (${l})`)}),GRAFIK_PIEZOMETER=Highcharts.stockChart(`container-${e}-piezometer`,{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:o,useHTML:!0},subtitle:{text:`Per ${r}`},yAxis:{title:{text:s,useHTML:!0},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}"}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle",fillColor:i},lineWidth:1,animation:!0}},tooltip:{formatter(){let t="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(a=>{const n=a.y;a.point.y2;t+=` <br/>${e.charAt(0).toUpperCase()+e.slice(1)}         =   `+n+" "+l}),t}},series:[{name:"Battery",type:"line",data:n,lineColor:i}]})}function generateGrafikAWSBySensor(e,t,a){const n=generateDataSeriesGrafik(a);let r="";r=moment(t,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY");let i="#3498db",o="",l="",s="";sensorNames.forEach(t=>{if(t==e){let e=awsSensors[t];o=`<div class="text-center"><b>Grafik ${e.sensorName}</b></br><b>${STATION_NAME}</b></div>`,i=e.color,l=e.unit,s=`${e.sensorName} (${l})`}});let d=getValueAndIndexByKey(dynamicValues,`${e}-aws`).index;"rainfall"==e&&(dynamicValues[d][`${e}-aws`]=Highcharts.stockChart(`container-${e}-aws`,{chart:{alignTicks:!1,alignTicks:!1,zoomType:"none",zoomType:"xy",panning:!1,pinchType:!1},rangeSelector:{selected:1},navigator:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Curah Hujan Jam - Jaman</b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${r}`},xAxis:{type:"datetime",crosshair:!0,title:{text:"Jam"},labels:{format:"{value:%H}"},dateTimeLabelFormats:{hour:"%H"},tickInterval:36e5,scrollbar:{enabled:!1}},yAxis:{min:0,title:{text:"Curah Hujan (mm)"},stackLabels:{style:{color:"#000000",fontWeight:"bold"},enabled:!0,verticalAlign:"top"},opposite:!1},plotOptions:{column:{borderWidth:1,stacking:"normal",pointPadding:0,groupPadding:0,dataLabels:{enabled:!1},dataGrouping:{enabled:!1},zones:[{value:0,borderColor:"#4b5157",color:"#CCCCCC66"},{value:5,borderColor:"#0581a1",color:"#39A6F599"},{value:10,borderColor:"#a87f05",color:"#F7B84B99"},{value:20,borderColor:"#a34d15",color:"#F2832399"},{borderColor:"#b3253a",color:"#EF535099"}]}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat("%e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{t.y;e+="<br/>CH         = "+t.y+" mm",t.y>0&&t.y<=5?e+="<br/>Intensitas = Hujan Ringan":t.y>5&&t.y<=10?e+="<br/>Intensitas = Hujan Sedang":t.y>10&&t.y<=20?e+="<br/>Intensitas = Hujan Lebat":t.y>20?e+="<br/>Intensitas = Hujan Sangat Lebat":e+="<br/>Intensitas = Berawan"}),e}},series:[{type:"column",name:"CH",data:n.map(e=>({x:e[0],y:e[1]}))}]})),"windDirection"!=e&&"rainfall"!=e&&(dynamicValues[d][`${e}-aws`]=Highcharts.stockChart(`container-${e}-aws`,{navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:o,useHTML:!0},subtitle:{text:`Per ${r}`},yAxis:{title:{text:s,useHTML:!0},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}"}},plotOptions:{series:{marker:{enabled:!0,radius:2,symbol:"circle",fillColor:i},lineWidth:1,animation:!0}},tooltip:{formatter(){let t="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(a=>{const n=a.y;a.point.y2;t+=` <br/>${e.charAt(0).toUpperCase()+e.slice(1)}         =   `+n+" "+l}),t}},series:[{name:e,type:"line",data:n,lineColor:i}]}))}function generateDataSeriesGrafik(e,t=!1,a=!1){if(null==e||null==e||0==e.length)return[];let n=[];return n=a?e.map(e=>[e.millis,null!=e.value?Math.round(100*e.value)/100:e.value,e.description]):t?e.map(e=>[e.millis,null!=e.value?Math.round(100*e.value)/100:e.value,null!=e.elevasi?Math.round(100*e.value)/100:e.elevasi]):e.map(e=>[e.millis,null!=e.value?Math.round(100*e.value)/100:e.value])}function generateDataSeriesGrafikAwlrArr(e,t,a=!1,n=!1){if(null==e||null==e||0==e.length)return[];let r=[];return r=n?e.map(e=>[e.millis,null!=e.value?Math.round(100*e.value)/100:e.value,e.description]):a?e.map(e=>[e.millis,null!=e.value?Math.round(100*e.value)/100:e.value,null!=e.elevasi?Math.round(100*e.value)/100:e.elevasi]):"awlr"==t?e.map(e=>[e.millis,null!=e.value?Math.round(100*e.awlr)/100:e.awlr]):e.map(e=>[e.millis,null!=e.value?Math.round(100*e.arr)/100:e.arr])}function generateAwsHeader(e,t){}function generateSensorWindDirection(e,t){const a=generateDataSeriesGrafik(t,!1,!0);let n="";n=moment(e,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY");let r=$("#base-image").data("image-url"),i=document.getElementById("container-windDirection-aws");GRAFIK_WIND_DIRECTION=Highcharts.stockChart(i,{chart:{type:"line",events:{load:function(){document.querySelectorAll(".customMarker").forEach(function(e){e.style.display="block"})},redraw:function(){redrawCustomMarkers()}}},navigation:{buttonOptions:{enabled:!1}},rangeSelector:{enabled:!1},title:{text:`<div class="text-center"><b>Grafik Arah Angin </b></br><b>${STATION_NAME}</b></div>`,useHTML:!0},subtitle:{text:`Per ${n}`},yAxis:{title:{text:"Arah Angin (&deg)",useHTML:!0},opposite:!1},xAxis:{type:"datetime",labels:{format:"{value:%H:%M}"}},plotOptions:{series:{marker:{enabled:!1,radius:2,symbol:"circle"},lineWidth:1,animation:!0}},tooltip:{formatter(){let e="<b>"+Highcharts.dateFormat(" %e %B  %Y %H:%M",this.x)+"</b>";return this.points.forEach(t=>{const a=t.y,n=t.point.options.windDirection;e+=" <br/> Arah Angin: "+a+"&deg "+`(${n})`}),e}},series:[{name:"Arah Angin",type:"line",data:a.map(e=>({x:e[0],y:e[1],windDirection:e[2]}))}]}),redrawCustomMarkers(r)}function redrawCustomMarkers(e){if(null==GRAFIK_WIND_DIRECTION)return;let t=GRAFIK_WIND_DIRECTION.series[0].points,a=document.getElementById("container-windDirection-aws");a.querySelectorAll(".customMarker").forEach(function(e){e.parentNode.removeChild(e)}),t.forEach(function(e){let t=GRAFIK_WIND_DIRECTION.xAxis[0].toPixels(e.x),n=GRAFIK_WIND_DIRECTION.yAxis[0].toPixels(e.y),r=document.createElement("img");r.className="customMarker",r.src=baseUrl,r.style.position="absolute",r.style.width="15px",r.style.height="15px",r.style.left=t+"px",r.style.top=n-7.5+"px",r.style.transform="rotate("+e.y+"deg)",a.appendChild(r)})}function generateStyleWaterLevel(e,t,a,n,r){if(!IS_ONLY_MDPL&&($(e).removeClass("bg-normal"),$(e).removeClass("bg-siaga3"),$(e).removeClass("bg-siaga2"),$(e).removeClass("bg-siaga1"),$(e).removeClass("bg-nostatus"),"cmdpl"!=a.unitSensor&&"mdpl"!=a.unitSensor))switch(a.warningStatus){case"Normal":$(e).addClass("bg-normal");break;case"Siaga 3":$(e).addClass("bg-siaga3");break;case"Siaga 2":$(e).addClass("bg-siaga2");break;case"Siaga 1":$(e).addClass("bg-siaga1");break;default:$(e).addClass("bg-nostatus")}}function generateStyleRainfall(e,t,a,n,r){switch(t){case"Berawan":$(e).addClass("bg-berawan");break;case"Hujan Ringan":$(e).addClass("bg-hujan-ringan");break;case"Hujan Sedang":$(e).addClass("bg-hujan-sedang");break;case"Hujan Lebat":$(e).addClass("bg-hujan-lebat");break;case"Hujan Sangat Lebat":$(e).addClass("bg-hujan-sangat-lebat")}}$("#tab-graphic").on("click",function(){if($("#arr-telemetry-info").fadeOut(150),$("#awlr-telemetry-info").fadeOut(150),!(countClickTabGrafik>0))if(countClickTabGrafik++,filter_date=moment(new Date).format("YYYY-MM-DD"),"AWS"!=STATION_TYPE)if("WQMS"!=STATION_TYPE)if("V-Notch"!=STATION_TYPE)if("Piezometer"!=STATION_TYPE){if("AWLR_ARR"==STATION_TYPE)return flatpickr("#periode-tma-ch-awlr-arr",{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),flatpickr("#periode-ch-harian-awlr-arr",{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),flatpickr("#periode-debit-awlr-arr",{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),flatpickr("#periode-battery-awlr-arr",{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),loadGrafikAwlrArrTmaCh("hour",filter_date),loadGrafikDebitAwlrArr("hour",filter_date),loadGrafikBatteryAwlrArr("hour",filter_date),void loadGrafikChHarianAwlrArr("hour",filter_date);flatpickr("#periode-grafik",{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),flatpickr("#periode-battery",{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),selected_time="hour","AWLR"==STATION_TYPE&&(selected_time="minute",flatpickr("#periode-debit",{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),flatpickr("#periode-grafik-per-das",{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),loadGrafikDebit(selected_time,filter_date),loadGrafikTmaPerDAS(filter_date)),"ARR"==STATION_TYPE&&(selected_time="hour",loadDatePicker("periode-ch-harian","day",filter_date=moment(new Date).format("YYYY-MM-DD")),loadGrafikChHarian(selected_time,filter_date)),loadGrafik(selected_time,filter_date),loadGrafikBattery(selected_time,filter_date)}else Object.entries(piezometerGarfikConfig).forEach(([e,t])=>{flatpickr(`#periode-${e}-piezometer`,{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),loadGrafikPiezometer(e,filter_date)});else Object.entries(vNotchGarfikConfig).forEach(([e,t])=>{flatpickr(`#periode-${e}-vnotch`,{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),loadGrafikVNotch(e,filter_date)});else wQSensors.forEach(e=>{flatpickr(`#periode-${e}`,{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),loadGrafikWaterQuality(e,filter_date)});else sensorNames.forEach(e=>{flatpickr(`#periode-${e}-aws`,{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),loadGrafikAWS(e,filter_date)})}),$(".link-wqms").on("click",function(){const e=$(this).data("id");filter_date=moment(new Date).format("YYYY-MM-DD"),flatpickr(`#periode-${e}`,{maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id"}).setDate(filter_date),loadGrafikWaterQuality(e,filter_date)});